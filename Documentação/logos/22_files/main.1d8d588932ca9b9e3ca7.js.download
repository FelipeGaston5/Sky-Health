/*! For license information please see main.1d8d588932ca9b9e3ca7.js.LICENSE.txt */
(()=>{var e,t,n={514:(e,t,n)=>{"use strict";var r=n(284);function o(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,c,"next",e)}function c(e){o(s,r,i,a,c,"throw",e)}a(void 0)}))}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,u=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){u=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=n(756),u=n.n(c);const l=({hardwareOnly:e=!1,enableWebgl:t=!1,enableScreen:n=!0,debug:r=!1,raw:o=!1}={})=>{const{cookieEnabled:i,deviceMemory:s,doNotTrack:a,hardwareConcurrency:c,language:u,languages:l,maxTouchPoints:g,platform:y,userAgent:m,vendor:b}=window.navigator,{width:v,height:w,colorDepth:S,pixelDepth:_}=n?window.screen:{},I=(new Date).getTimezoneOffset(),E=Intl.DateTimeFormat().resolvedOptions().timeZone,C="ontouchstart"in window,k=n?window.devicePixelRatio:void 0,A=n?d(r):void 0,O=t?h(r):void 0,T=t?p(r):void 0,x=e?JSON.stringify({canvas:A,colorDepth:S,deviceMemory:s,devicePixelRatio:k,hardwareConcurrency:c,height:w,maxTouchPoints:g,pixelDepth:_,platform:y,touchSupport:C,webgl:O,webglInfo:T,width:v}):JSON.stringify({canvas:A,colorDepth:S,cookieEnabled:i,deviceMemory:s,devicePixelRatio:k,doNotTrack:a,hardwareConcurrency:c,height:w,language:u,languages:l,maxTouchPoints:g,pixelDepth:_,platform:y,timezone:E,timezoneOffset:I,touchSupport:C,userAgent:m,vendor:b,webgl:O,webglInfo:T,width:v}),P=JSON.stringify(x,null,4);return r&&console.log("fingerprint data",P),o?P:f(P)},d=e=>{try{const t=document.createElement("canvas"),n=t.getContext("2d"),r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ`~1!2@3#4$5%6^7&8*9(0)-_=+[{]}|;:',<.>/?";n.textBaseline="top",n.font="14px 'Arial'",n.textBaseline="alphabetic",n.fillStyle="#f60",n.fillRect(125,1,62,20),n.fillStyle="#069",n.fillText(r,2,15),n.fillStyle="rgba(102, 204, 0, 0.7)",n.fillText(r,4,17);const o=t.toDataURL();return e?document.body.appendChild(t):n.clearRect(0,0,t.width,t.height),f(o)}catch{return null}},h=e=>{try{const t=document.createElement("canvas"),n=t.getContext("webgl");t.width=256,t.height=128;const r="attribute vec2 attrVertex;varying vec2 varyinTexCoordinate;uniform vec2 uniformOffset;void main(){varyinTexCoordinate=attrVertex+uniformOffset;gl_Position=vec4(attrVertex,0,1);}",o="precision mediump float;varying vec2 varyinTexCoordinate;void main() {gl_FragColor=vec4(varyinTexCoordinate,0,1);}",i=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,i);const s=new Float32Array([-.2,-.9,0,.4,-.26,0,0,.7321,0]);n.bufferData(n.ARRAY_BUFFER,s,n.STATIC_DRAW),i.itemSize=3,i.numItems=3;const a=n.createProgram(),c=n.createShader(n.VERTEX_SHADER);n.shaderSource(c,r),n.compileShader(c);const u=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(u,o),n.compileShader(u),n.attachShader(a,c),n.attachShader(a,u),n.linkProgram(a),n.useProgram(a),a.vertexPosAttrib=n.getAttribLocation(a,"attrVertex"),a.offsetUniform=n.getUniformLocation(a,"uniformOffset"),n.enableVertexAttribArray(a.vertexPosArray),n.vertexAttribPointer(a.vertexPosAttrib,i.itemSize,n.FLOAT,!1,0,0),n.uniform2f(a.offsetUniform,1,1),n.drawArrays(n.TRIANGLE_STRIP,0,i.numItems);const l=new Uint8Array(t.width*t.height*4);n.readPixels(0,0,t.width,t.height,n.RGBA,n.UNSIGNED_BYTE,l);const d=JSON.stringify(l).replace(/,?"[0-9]+":/g,"");return e?document.body.appendChild(t):n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT|n.STENCIL_BUFFER_BIT),f(d)}catch{return null}},p=()=>{try{const e=document.createElement("canvas").getContext("webgl");return{VERSION:String(e.getParameter(e.VERSION)),SHADING_LANGUAGE_VERSION:String(e.getParameter(e.SHADING_LANGUAGE_VERSION)),VENDOR:String(e.getParameter(e.VENDOR)),SUPORTED_EXTENSIONS:String(e.getSupportedExtensions())}}catch{return null}},f=e=>{const t=3&e.length,n=e.length-t,r=3432918353,o=461845907;let i,s,a;for(let t=0;t<n;t++)a=255&e.charCodeAt(t)|(255&e.charCodeAt(++t))<<8|(255&e.charCodeAt(++t))<<16|(255&e.charCodeAt(++t))<<24,++t,a=(65535&a)*r+(((a>>>16)*r&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*o+(((a>>>16)*o&65535)<<16)&4294967295,i^=a,i=i<<13|i>>>19,s=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=27492+(65535&s)+((58964+(s>>>16)&65535)<<16);const c=n-1;switch(a=0,t){case 3:a^=(255&e.charCodeAt(c+2))<<16;break;case 2:a^=(255&e.charCodeAt(c+1))<<8;break;case 1:a^=255&e.charCodeAt(c)}return a=(65535&a)*r+(((a>>>16)*r&65535)<<16)&4294967295,a=a<<15|a>>>17,a=(65535&a)*o+(((a>>>16)*o&65535)<<16)&4294967295,i^=a,i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0};"undefined"!=typeof window&&(window.getBrowserFingerprint=l);const g=l;n(211);var y=!0,m=!1,b=[],v="",w=document.body,S={childList:!0,subtree:!0},_=!1;const I={zest_secure_ui:function(e){if(e!=m){if(e){if(""==v)return;for(var t=document.querySelectorAll(v),n=0;n<t.length;n++){var r=t[n];r.classList.add("zest-hidden-font-9376ffa4ce"),b.push(r)}}else{for(n=0;n<b.length;n++)b[n].classList.remove("zest-hidden-font-9376ffa4ce");b=[]}(m=e)&&(_||(_=!0,new MutationObserver((function(e,t){y||(_=!1,t.disconnect()),m&&e.forEach((function(e){e.addedNodes.forEach((function(e){if(1==e.nodeType)for(var t=e.querySelectorAll(v),n=0;n<t.length;n++)t[n].classList.add("zest-hidden-font-9376ffa4ce"),b.push(t[n])}))}))})).observe(w,S)))}},initialize:function(e,t){y=e,v=t},is_secured:function(){return m}};var E=n(848);function C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var k,A=function e(t,n){function r(e,r,o){if("undefined"!=typeof document){"number"==typeof(o=C({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var s in o)o[s]&&(i+="; "+s,!0!==o[s]&&(i+="="+o[s].split(";")[0]));return document.cookie=e+"="+t.write(r,e)+i}}return Object.create({set:r,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),s=i.slice(1).join("=");try{var a=decodeURIComponent(i[0]);if(r[a]=t.read(s,a),e===a)break}catch(e){}}return e?r[e]:r}},remove:function(e,t){r(e,"",C({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,C({},this.attributes,t))},withConverter:function(t){return e(C({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class O{constructor(e={}){const{path:t,domain:n,expires:r,sameSite:o,secure:i}=e;if(this.domain=n,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?r:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||i,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===o&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(e,t){A.set(e,t,this.getData())}async getItem(e){return A.get(e)??null}async removeItem(e){A.remove(e,this.getData())}async clear(){const e=A.get(),t=Object.keys(e).map((e=>this.removeItem(e)));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}!function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"}(k||(k={}));class T extends Error{constructor({message:e,name:t,recoverySuggestion:n,underlyingError:r,metadata:o}){if(super(e),this.name=t,this.underlyingError=r,this.recoverySuggestion=n,o){const{extendedRequestId:e,httpStatusCode:t,requestId:n}=o;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=T,Object.setPrototypeOf(this,T.prototype)}}class x extends T{constructor(){super({name:k.PlatformNotSupported,message:"Function not supported on current platform"})}}class P{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new x;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new x;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new x;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new x;this.storage.clear()}}const N="x-amz-user-agent";var R;!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"}(R||(R={}));const D={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class L{constructor(e,t=R.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?"0"+e:""+e}_ts(){const e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()}configure(e){return e?(this._config=e,this._config):this._config}_log(e,...t){let n=this.level;if(L.LOG_LEVEL&&(n=L.LOG_LEVEL),"undefined"!=typeof window&&window.LOG_LEVEL&&(n=window.LOG_LEVEL),!(D[e]>=D[n]))return;let r=console.log.bind(console);e===R.ERROR&&console.error&&(r=console.error.bind(console)),e===R.WARN&&console.warn&&(r=console.warn.bind(console)),L.BIND_ALL_LOG_LEVELS&&(e===R.INFO&&console.info&&(r=console.info.bind(console)),e===R.DEBUG&&console.debug&&(r=console.debug.bind(console)));const o=`[${e}] ${this._ts()} ${this.name}`;let i="";if(1===t.length&&"string"==typeof t[0])i=`${o} - ${t[0]}`,r(i);else if(1===t.length)i=`${o} ${t[0]}`,r(o,t[0]);else if("string"==typeof t[0]){let e=t.slice(1);1===e.length&&(e=e[0]),i=`${o} - ${t[0]} ${e}`,r(`${o} - ${t[0]}`,e)}else i=`${o} ${t}`,r(o,t);for(const e of this._pluggables){const t={message:i,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(R.INFO,...e)}info(...e){this._log(R.INFO,...e)}warn(...e){this._log(R.WARN,...e)}error(...e){this._log(R.ERROR,...e)}debug(...e){this._log(R.DEBUG,...e)}verbose(...e){this._log(R.VERBOSE,...e)}addPluggable(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}}L.LOG_LEVEL=null,L.BIND_ALL_LOG_LEVELS=!1;class M{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}}const U=new L("CoreStorageUtils"),j=()=>{try{if("undefined"!=typeof window&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch(e){return U.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new M}};class K{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new x;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}}const $=new class extends P{constructor(){super((()=>{try{if("undefined"!=typeof window&&window.localStorage)return window.localStorage}catch(e){U.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new M})())}},G=(new class extends P{constructor(){super(j())}},new class extends K{constructor(){super(j())}},new P(new M),"undefined"!=typeof Symbol?Symbol("amplify_default"):"@@amplify_default"),B=new L("Hub");class F{constructor(e){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}_remove(e,t){const n=this.listeners.get(e);n?this.listeners.set(e,[...n.filter((({callback:e})=>e!==t))]):B.warn(`No listeners for ${e}`)}dispatch(e,t,n,r){"string"==typeof e&&this.protectedChannels.indexOf(e)>-1&&(r===G||B.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`));const o={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(o)}catch(e){B.error(e)}}listen(e,t,n="noname"){let r;if("function"!=typeof t)throw new T({name:"NoHubcallbackProvidedException",message:"No callback supplied to Hub"});r=t;let o=this.listeners.get(e);return o||(o=[],this.listeners.set(e,o)),o.push({name:n,callback:r}),()=>{this._remove(e,r)}}_toListeners(e){const{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach((r=>{B.debug(`Dispatching to ${t} with `,n);try{r.callback(e)}catch(e){B.error(e)}}))}}const V=new F("__default__"),W=(new F("internal-hub"),e=>{const t=Reflect.ownKeys(e);for(const n of t){const t=e[n];(t&&"object"==typeof t||"function"==typeof t)&&W(t)}return Object.freeze(e)}),q=Symbol("oauth-listener"),z=new L("parseAWSExports"),H={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},J=e=>e?.split(",")??[],X=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:r,responseType:o})=>({domain:e,scopes:t,redirectSignIn:J(n),redirectSignOut:J(r),responseType:o}),Q=e=>e.map((e=>{const t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}));const Y={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Z(e){return Y[e]}const ee={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function te(e=[]){return e.reduce(((e,t)=>(void 0!==ee[t]&&e.push(ee[t]),e)),[])}function ne(e){const t={};return e.forEach((({name:e,bucket_name:n,aws_region:r,paths:o})=>{if(e in t)throw new Error(`Duplicate friendly name found: ${e}. Name must be unique.`);const i=o?Object.entries(o).reduce(((e,[t,n])=>(void 0!==n&&(e[t]=n),e)),{}):void 0;t[e]={bucketName:n,region:r,paths:i}})),t}const re=e=>Object.keys(e).some((e=>e.startsWith("aws_")))?((e={})=>{if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new T({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:o,aws_bots_config:i,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:a,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:u,aws_cognito_password_protection_settings:l,aws_cognito_verification_mechanisms:d,aws_cognito_signup_attributes:h,aws_cognito_social_providers:p,aws_cognito_username_attributes:f,aws_mandatory_sign_in:g,aws_mobile_analytics_app_id:y,aws_mobile_analytics_app_region:m,aws_user_files_s3_bucket:b,aws_user_files_s3_bucket_region:v,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:w,aws_user_pools_id:S,aws_user_pools_web_client_id:_,geo:I,oauth:E,predictions:C,aws_cloud_logic_custom:k,Notifications:A,modelIntrospection:O}=e,x={};y&&(x.Analytics={Pinpoint:{appId:y,region:m}});const{InAppMessaging:P,Push:N}=A??{};if(P?.AWSPinpoint||N?.AWSPinpoint){if(P?.AWSPinpoint){const{appId:e,region:t}=P.AWSPinpoint;x.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(N?.AWSPinpoint){const{appId:e,region:t}=N.AWSPinpoint;x.Notifications={...x.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(i)&&(x.Interactions={LexV1:Object.fromEntries(i.map((e=>[e.name,e])))}),r){const e=H[n];e||z.debug(`Invalid authentication type ${n}. Falling back to IAM.`),x.API={GraphQL:{endpoint:r,apiKey:t,region:o,defaultAuthMode:e??"iam"}},O&&(x.API.GraphQL.modelIntrospection=O)}const R=c?{status:c&&c.toLowerCase(),totpEnabled:u?.includes("TOTP")??!1,smsEnabled:u?.includes("SMS")??!1}:void 0,D=l?{minLength:l.passwordPolicyMinLength,requireLowercase:l.passwordPolicyCharacters?.includes("REQUIRES_LOWERCASE")??!1,requireUppercase:l.passwordPolicyCharacters?.includes("REQUIRES_UPPERCASE")??!1,requireNumbers:l.passwordPolicyCharacters?.includes("REQUIRES_NUMBERS")??!1,requireSpecialCharacters:l.passwordPolicyCharacters?.includes("REQUIRES_SYMBOLS")??!1}:void 0,L=Array.from(new Set([...d??[],...h??[]])).reduce(((e,t)=>({...e,[t.toLowerCase()]:{required:!0}})),{}),M=f?.includes("EMAIL")??!1,U=f?.includes("PHONE_NUMBER")??!1;(s||S)&&(x.Auth={Cognito:{identityPoolId:s,allowGuestAccess:"enable"!==g,signUpVerificationMethod:a,userAttributes:L,userPoolClientId:_,userPoolId:S,mfa:R,passwordFormat:D,loginWith:{username:!(M||U),email:M,phone:U}}});const j=!!E&&Object.keys(E).length>0,K=!!p&&p.length>0;if(x.Auth&&j&&(x.Auth.Cognito.loginWith={...x.Auth.Cognito.loginWith,oauth:{...X(E),...K&&{providers:Q(p)}}}),b&&(x.Storage={S3:{bucket:b,region:v,dangerouslyConnectToHttpEndpointForTesting:w}}),I){const{amazon_location_service:e}=I;x.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(k&&(x.API={...x.API,REST:k.reduce(((e,t)=>{const{name:n,endpoint:r,region:o,service:i}=t;return{...e,[n]:{endpoint:r,...i?{service:i}:void 0,...o?{region:o}:void 0}}}),{})}),C){const{VoiceId:e}=C?.convert?.speechGenerator?.defaults??{};x.Predictions=e?{...C,convert:{...C.convert,speechGenerator:{...C.convert.speechGenerator,defaults:{voiceId:e}}}}:C}return x})(e):function(e){const{version:t}=e;return!!t&&t.startsWith("1")}(e)?function(e){const t={};if(e.storage&&(t.Storage=function(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&ne(r)}}}(e.storage)),e.auth&&(t.Auth=function(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:o,mfa_configuration:i,mfa_methods:s,unauthenticated_identities_enabled:a,oauth:c,username_attributes:u,standard_required_attributes:l,groups:d}=e,h={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};return r&&(h.Cognito={...h.Cognito,identityPoolId:r}),o&&(h.Cognito.passwordFormat={requireLowercase:o.require_lowercase,requireNumbers:o.require_numbers,requireUppercase:o.require_uppercase,requireSpecialCharacters:o.require_symbols,minLength:o.min_length??6}),i&&(h.Cognito.mfa={status:(p=i,"OPTIONAL"===p?"optional":"REQUIRED"===p?"on":"off"),smsEnabled:s?.includes("SMS"),totpEnabled:s?.includes("TOTP")}),a&&(h.Cognito.allowGuestAccess=a),c&&(h.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:"token"===c.response_type?"token":"code",scopes:c.scopes,providers:te(c.identity_providers)}}),u&&(h.Cognito.loginWith={...h.Cognito.loginWith,email:u.includes("email"),phone:u.includes("phone_number"),username:u.includes("username")}),l&&(h.Cognito.userAttributes=l.reduce(((e,t)=>({...e,[t]:{required:!0}})),{})),h;var p}(e.auth)),e.analytics&&(t.Analytics=function(e){if(!e?.amazon_pinpoint)return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}(e.analytics)),e.geo&&(t.Geo=function(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:o}=e;return{LocationService:{region:t,searchIndices:o,geofenceCollections:n,maps:r}}}(e.geo)),e.data&&(t.API=function(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:o,model_introspection:i}=e;return{GraphQL:{endpoint:r,defaultAuthMode:Z(n),region:t,apiKey:o,modelIntrospection:i}}}(e.data)),e.custom){const n=function(e){if(!e?.events)return;const{url:t,aws_region:n,api_key:r,default_authorization_type:o}=e.events;return{Events:{endpoint:t,defaultAuthMode:Z(o),region:n,apiKey:r}}}(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=function(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,o=n.includes("IN_APP_MESSAGING"),i=n.includes("APNS")||n.includes("FCM");if(!o&&!i)return;const s={};return o&&(s.InAppMessaging={Pinpoint:{appId:r,region:t}}),i&&(s.PushNotification={Pinpoint:{appId:r,region:t}}),s}(e.notifications)),t}(e):e;var oe=function(e,t){return oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},oe(e,t)};function ie(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}oe(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function se(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{c(r.next(e))}catch(e){i(e)}}function a(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))}function ae(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,a[0]&&(s=0)),s;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,r=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!((o=(o=s.trys).length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}function ce(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ue(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function le(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function de(e){return this instanceof de?(this.v=e,this):new de(e)}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var he=64,pe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fe=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],ge=Math.pow(2,53)-1,ye=function(){function e(){this.state=Int32Array.from(fe),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>ge)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===he&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%he>=56){for(var r=this.bufferLength;r<he;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(32);for(r=0;r<8;r++)o[4*r]=this.state[r]>>>24&255,o[4*r+1]=this.state[r]>>>16&255,o[4*r+2]=this.state[r]>>>8&255,o[4*r+3]=this.state[r]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],r=t[1],o=t[2],i=t[3],s=t[4],a=t[5],c=t[6],u=t[7],l=0;l<he;l++){if(l<16)this.temp[l]=(255&e[4*l])<<24|(255&e[4*l+1])<<16|(255&e[4*l+2])<<8|255&e[4*l+3];else{var d=this.temp[l-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[l-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[l]=(h+this.temp[l-7]|0)+(p+this.temp[l-16]|0)}var f=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&a^~s&c)|0)+(u+(pe[l]+this.temp[l]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&r^n&o^r&o)|0;u=c,c=a,a=s,s=i+f|0,i=o,o=r,r=n,n=f+g|0}t[0]+=n,t[1]+=r,t[2]+=o,t[3]+=i,t[4]+=s,t[5]+=a,t[6]+=c,t[7]+=u},e}(),me="undefined"!=typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:e=>(new TextEncoder).encode(e);function be(e){return e instanceof Uint8Array?e:"string"==typeof e?me(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}var ve=function(){function e(e){this.secret=e,this.hash=new ye,this.reset()}return e.prototype.update=function(e){var t;if(("string"==typeof(t=e)?0!==t.length:0!==t.byteLength)&&!this.error)try{this.hash.update(be(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return se(this,void 0,void 0,(function(){return ae(this,(function(e){return[2,this.digestSync()]}))}))},e.prototype.reset=function(){if(this.hash=new ye,this.secret){this.outer=new ye;var e=function(e){var t=be(e);if(t.byteLength>he){var n=new ye;n.update(t),t=n.digest()}var r=new Uint8Array(he);return r.set(t),r}(this.secret),t=new Uint8Array(he);t.set(e);for(var n=0;n<he;n++)e[n]^=54,t[n]^=92;for(this.hash.update(e),this.outer.update(t),n=0;n<e.byteLength;n++)e[n]=0}},e}();const we={},Se={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();1===t.length&&(t=`0${t}`),we[e]=t,Se[t]=e}const _e=new L("Auth");class Ie{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&_e.warn(Ee("Amazon Cognito User Pool")),e&&e.Cognito?.identityPoolEndpoint&&_e.warn(Ee("Amazon Cognito Identity Pool"))}async fetchAuthSession(e={}){let t,n;const r=await this.getTokens(e);return r?(n=r.accessToken?.payload?.sub,t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:e.forceRefresh}))):t=await(this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh})),{tokens:r,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await(this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId())}async getTokens(e){return await(this.authOptions?.tokenProvider?.getTokens(e))??void 0}}const Ee=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`,Ce=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Ie}configure(e,t){const n=re(e);this.resourcesConfig=n,t&&(this.libraryOptions=t),this.resourcesConfig=W(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),V.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",G),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn("Amplify has not been configured. Please call Amplify.configure() before using this service."),this.resourcesConfig}[q](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth&&this.oAuthListener&&(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}};var ke,Ae,Oe,Te,xe,Pe,Ne,Re,De,Le,Me,Ue,je,Ke;!function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"}(ke||(ke={})),function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"}(Ae||(Ae={})),function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"}(Oe||(Oe={})),function(e){e.Record="1",e.IdentifyUser="2"}(Te||(Te={})),function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"}(xe||(xe={})),function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"}(Pe||(Pe={})),function(e){e.Subscribe="1",e.GraphQl="2"}(Ne||(Ne={})),function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"}(Re||(Re={})),function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"}(De||(De={})),function(e){e.None="0"}(Le||(Le={})),function(e){e.Convert="1",e.Identify="2",e.Interpret="3"}(Me||(Me={})),function(e){e.Subscribe="1"}(Ue||(Ue={})),function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"}(je||(je={})),function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"}(Ke||(Ke={}));const $e="6.15.6",Ge=()=>"undefined"!=typeof global,Be=()=>"undefined"!=typeof window,Fe=()=>"undefined"!=typeof document,Ve=()=>"undefined"!=typeof process,We=(e,t)=>!!Object.keys(e).find((e=>e.startsWith(t))),qe=[{platform:ke.Expo,detectionMethod:function(){return Ge()&&void 0!==global.expo}},{platform:ke.ReactNative,detectionMethod:function(){return"undefined"!=typeof navigator&&void 0!==navigator.product&&"ReactNative"===navigator.product}},{platform:ke.NextJs,detectionMethod:function(){return Be()&&window.next&&"object"==typeof window.next}},{platform:ke.Nuxt,detectionMethod:function(){return Be()&&(void 0!==window.__NUXT__||void 0!==window.$nuxt)}},{platform:ke.Angular,detectionMethod:function(){const e=Boolean(Fe()&&document.querySelector("[ng-version]")),t=Boolean(Be()&&void 0!==window.ng);return e||t}},{platform:ke.React,detectionMethod:function(){const e=e=>e.startsWith("_react")||e.startsWith("__react");return Fe()&&Array.from(document.querySelectorAll("[id]")).some((t=>Object.keys(t).find(e)))}},{platform:ke.VueJs,detectionMethod:function(){return Be()&&We(window,"__VUE")}},{platform:ke.Svelte,detectionMethod:function(){return Be()&&We(window,"__SVELTE")}},{platform:ke.WebUnknown,detectionMethod:function(){return Be()}},{platform:ke.NextJsSSR,detectionMethod:function(){return Ge()&&(We(global,"__next")||We(global,"__NEXT"))}},{platform:ke.NuxtSSR,detectionMethod:function(){return Ge()&&void 0!==global.__NUXT_PATHS__}},{platform:ke.ReactSSR,detectionMethod:function(){return Ve()&&void 0!==process.env&&!!Object.keys(process.env).find((e=>e.includes("react")))}},{platform:ke.VueJsSSR,detectionMethod:function(){return Ge()&&We(global,"__VUE")}},{platform:ke.AngularSSR,detectionMethod:function(){return Ve()&&"object"==typeof process.env&&process.env.npm_lifecycle_script?.startsWith("ng ")||!1}},{platform:ke.SvelteSSR,detectionMethod:function(){return Ve()&&void 0!==process.env&&!!Object.keys(process.env).find((e=>e.includes("svelte")))}}];let ze;const He=[];let Je=!1;const Xe=()=>{if(!ze){if(ze=qe.find((e=>e.detectionMethod()))?.platform||ke.ServerSideUnknown,Je)for(;He.length;)He.pop()?.();else He.forEach((e=>{e()}));Qe(ke.ServerSideUnknown,10),Qe(ke.WebUnknown,10)}return ze};function Qe(e,t){ze!==e||Je||setTimeout((()=>{ze=void 0,Je=!0,setTimeout(Xe,1e3)}),t)}const Ye={},Ze="aws-amplify",et=e=>e.replace(/\+.*/,"");new class{constructor(){this.userAgent=`${Ze}/${et($e)}`}get framework(){return Xe()}get isReactNative(){return this.framework===ke.ReactNative||this.framework===ke.Expo}observeFrameworkChanges(e){(e=>{Je||He.push(e)})(e)}};const tt=e=>(({category:e,action:t}={})=>{const n=[[Ze,et($e)]];if(e&&n.push([e,t]),n.push(["framework",Xe()]),e&&t){const r=((e,t)=>Ye[e]?.[t]?.additionalDetails)(e,t);r&&r.forEach((e=>{n.push(e)}))}return n})(e).map((([e,t])=>e&&t?`${e}/${t}`:e)).join(" "),nt=e=>{const{headers:t,statusCode:n}=e;return{...rt(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},rt=e=>"object"==typeof e?.$metadata,ot=async e=>{if(!e||e.statusCode<300)return;const t=await it(e),n=(e=>{const[t]=e.toString().split(/[,:]+/);return t.includes("#")?t.split("#")[1]:t})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),r=t.message??t.Message??"Unknown error",o=new Error(r);return Object.assign(o,{name:n,$metadata:nt(e)})},it=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:nt(e)})},st=(e,t,n,r)=>async(o,i)=>{const s={...r,...o},a=await s.endpointResolver(s,i),c=await t(i,a),u=await e(c,{...s});return n(u)};function at(e=3e5){return t=>{const n=2**t*100+100*Math.random();return!(n>e)&&n}}const ct="amz-sdk-invocation-id",ut=3e5,lt=e=>{const t=at(ut)(e);return!1===t?ut:t},dt=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],ht=e=>async(t,n)=>{const r=n??await e(t)??void 0,o=r?.code||r?.name,i=t?.statusCode;return{retryable:yt(n)||gt(i,o)||(e=>!!e&&dt.includes(e))(o)||mt(i,o)}},pt=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ft=["TimeoutError","RequestTimeout","RequestTimeoutException"],gt=(e,t)=>429===e||!!t&&pt.includes(t),yt=e=>[k.NetworkError,"ERR_NETWORK"].includes(e?.name),mt=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&ft.includes(t),bt="cognito-identity",vt={service:bt,retryDecider:ht(ot),computeDelay:lt,cache:"no-store"},wt=({maxAttempts:e=3,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(o,i)=>async function(s){let a,c,u=i.attemptsCount??0;const l=()=>{if(c)return _t(c,u),c;throw _t(a,u),a};for(;!r?.aborted&&u<e;){try{c=await o(s),a=void 0}catch(e){a=e,c=void 0}u=(i.attemptsCount??0)>u?i.attemptsCount??0:u+1,i.attemptsCount=u;const{isCredentialsExpiredError:d,retryable:h}=await t(c,a,i);if(!h)return l();if(i.isCredentialsExpired=!!d,!r?.aborted&&u<e){const e=n(u);await St(e,r)}}if(r?.aborted)throw new Error("Request aborted.");return l()}},St=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,r;const o=new Promise((t=>{r=t,n=setTimeout(t,e)}));return t?.addEventListener("abort",(function e(o){clearTimeout(n),t?.removeEventListener("abort",e),r()})),o},_t=(e,t)=>{"[object Object]"===Object.prototype.toString.call(e)&&(e.$metadata={...e.$metadata??{},attempts:t})},It={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Et;const Ct=new Uint8Array(16),kt=[];for(let e=0;e<256;++e)kt.push((e+256).toString(16).slice(1));const At=function(e,t,n){if(It.randomUUID&&!t&&!e)return It.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!Et){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Et=crypto.getRandomValues.bind(crypto)}return Et(Ct)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return function(e,t=0){return(kt[e[t+0]]+kt[e[t+1]]+kt[e[t+2]]+kt[e[t+3]]+"-"+kt[e[t+4]]+kt[e[t+5]]+"-"+kt[e[t+6]]+kt[e[t+7]]+"-"+kt[e[t+8]]+kt[e[t+9]]+"-"+kt[e[t+10]]+kt[e[t+11]]+kt[e[t+12]]+kt[e[t+13]]+kt[e[t+14]]+kt[e[t+15]]).toLowerCase()}(r)},Ot=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(r){if(0===t.trim().length)return await n(r);{const o=e.toLowerCase();return r.headers[o]=r.headers[o]?`${r.headers[o]} ${t}`:t,await n(r)}},Tt=(e,t)=>(n,r)=>{const o={};let i=t=>e(t,r);for(let e=t.length-1;e>=0;e--)i=(0,t[e])(r)(i,o);return i(n)},xt=e=>{let t;return()=>(t||(t=e()),t)},Pt=e=>!["HEAD","GET"].includes(e.toUpperCase()),Nt=async({url:e,method:t,headers:n,body:r},{abortSignal:o,cache:i,withCrossDomainCredentials:s})=>{let a;try{a=await fetch(e,{method:t,headers:n,body:Pt(t)?r:void 0,signal:o,cache:i,credentials:s?"include":"same-origin"})}catch(e){if(e instanceof TypeError)throw new T({name:k.NetworkError,message:"A network error has occurred.",underlyingError:e});throw e}const c={};return a.headers?.forEach(((e,t)=>{c[t.toLowerCase()]=e})),{statusCode:a.status,headers:c,body:null,body:Object.assign(a.body??{},{text:xt((()=>a.text())),blob:xt((()=>a.blob())),json:xt((()=>a.json()))})}},Rt=Tt(Nt,[Ot,()=>e=>async function(t){return t.headers[ct]||(t.headers[ct]=At()),e(t)},wt,({maxAttempts:e=3})=>(t,n)=>async function(r){const o=n.attemptsCount??0;return r.headers["amz-sdk-request"]=`attempt=${o+1}; max=${e}`,t(r)}]),Dt=Tt(Rt,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),Lt=e=>(t,n)=>{const r=Mt(e),o=JSON.stringify(t);return Ut(n,r,o)},Mt=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),Ut=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),jt=e=>st(Dt,Lt("GetCredentialsForIdentity"),Kt,{...vt,...e,userAgentValue:tt()}),Kt=async e=>{if(e.statusCode>=300)throw await ot(e);const t=await it(e);return{IdentityId:t.IdentityId,Credentials:$t(t.Credentials),$metadata:nt(e)}},$t=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)}),Gt={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),(()=>{if("undefined"!=typeof window&&"function"==typeof window.atob)return window.atob;if("function"==typeof atob)return atob;throw new T({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})})()(n)}},Bt=(e,t=T)=>(n,r,o)=>{const{message:i,recoverySuggestion:s}=e[r];if(!n)throw new t({name:r,message:o?`${i} ${o}`:i,recoverySuggestion:s})};var Ft,Vt;(Vt=Ft||(Ft={})).AuthTokenConfigException="AuthTokenConfigException",Vt.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",Vt.AuthUserPoolException="AuthUserPoolException",Vt.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",Vt.OAuthNotConfigureException="OAuthNotConfigureException";const Wt=Bt({[Ft.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[Ft.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[Ft.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[Ft.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[Ft.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}});function qt(e){let t=!0;t=!!e&&!!e.userPoolId&&!!e.userPoolClientId,Wt(t,Ft.AuthUserPoolException)}function zt(e){Wt(!!e?.identityPoolId,Ft.InvalidIdentityPoolIdException)}function Ht(e){const t=e.split(".");if(3!==t.length)throw new Error("Invalid token");try{const n=t[1].replace(/-/g,"+").replace(/_/g,"/"),r=decodeURIComponent(Gt.convert(n).split("").map((e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`)).join(""));return{toString:()=>e,payload:JSON.parse(r)}}catch(e){throw new Error("Invalid token payload")}}class Jt extends T{constructor(e){super(e),this.constructor=Jt,Object.setPrototypeOf(this,Jt.prototype)}}function Xt(e){if(!e||"Error"===e.name||e instanceof TypeError)throw new Jt({name:k.Unknown,message:"An unknown error has occurred.",underlyingError:e})}function Qt(e){if(!e||!e.includes(":"))throw new Jt({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const Yt="UserUnAuthenticatedException";new Jt({name:"InvalidRedirectException",message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."}),new Jt({name:"InvalidAppSchemeException",message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."}),new Jt({name:"InvalidPreferredRedirectUrlException",message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."}),new Jt({name:"InvalidOriginException",message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const Zt=new Jt({name:"TokenRefreshException",message:"Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. \n\tPlease change your oauth configuration to use 'code grant' flow.",recoverySuggestion:"Please logout and change your Amplify configuration to use \"code grant\" flow. \n\tE.g { responseType: 'code' }"}),en=new Jt({name:Yt,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});const tn={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function nn(e){return e?.accessToken||e?.idToken}const rn={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},on={partitions:[rn,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},sn=e=>{const{partitions:t}=on;for(const{regions:n,outputs:r,regionRegex:o}of t){const t=new RegExp(o);if(n.includes(e)||t.test(e))return r.dnsSuffix}return rn.outputs.dnsSuffix},an=URL,cn=URLSearchParams,un=({endpointOverride:e})=>t=>e?{url:new an(e)}:(({region:e})=>({url:new an(`https://${bt}.${e}.${sn(e)}`)}))(t),ln=async e=>{if(e.statusCode>=300)throw await ot(e);return{IdentityId:(await it(e)).IdentityId,$metadata:nt(e)}};function dn(e){const t=Ht(e).payload.iss,n={};if(!t)throw new Jt({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return n[t.replace(/(^\w+:|^)\/\//,"")]=e,n}async function hn({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});const r=await n.loadIdentityId();if(r)return r.id;const o=e?.idToken?dn(e.idToken.toString()):{},i=await async function(e,t){const n=t?.identityPoolId,r=Qt(n),o=(e=>st(Dt,Lt("GetId"),ln,{...vt,...e,userAgentValue:tt()}))({endpointResolver:un({endpointOverride:t.identityPoolEndpoint})});let i;try{i=(await o({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw Xt(e),new Jt(e)}if(!i)throw new Jt({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}(o,t);return n.storeIdentityId({id:i,type:e?"primary":"guest"}),i}const pn=new L("CognitoCredentialsProvider"),fn=3e6;class gn{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){pn.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){pn.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){const t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{zt(r?.Cognito)}catch{return}if(!t&&!r.Cognito.allowGuestAccess)return;const{forceRefresh:o}=e,i=this.hasTokenChanged(n),s=await hn({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(o||i)&&this.clearCredentials(),t?(function(e){if(!e||!e.idToken)throw new Jt({name:Yt,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}(n),this.credsForOIDCTokens(r.Cognito,n,s)):this.getGuestCredentials(s,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return pn.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const n=Qt(t.identityPoolId),r=jt({endpointResolver:un({endpointOverride:t.identityPoolEndpoint})});let o;try{o=await r({region:n},{IdentityId:e})}catch(e){throw Xt(e),new Jt(e)}if(o?.Credentials?.AccessKeyId&&o?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+fn;const t={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:e};return o.IdentityId&&(t.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new Jt({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return pn.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=t.idToken?dn(t.idToken.toString()):{},o=Qt(e.identityPoolId),i=jt({endpointResolver:un({endpointOverride:e.identityPoolEndpoint})});let s;try{s=await i({region:o},{IdentityId:n,Logins:r})}catch(e){throw Xt(e),new Jt(e)}if(s?.Credentials?.AccessKeyId&&s?.Credentials?.SecretKey){this._nextCredentialsRefresh=(new Date).getTime()+fn;const e={credentials:{accessKeyId:s.Credentials.AccessKeyId,secretAccessKey:s.Credentials.SecretKey,sessionToken:s.Credentials.SessionToken,expiration:s.Credentials.Expiration},identityId:n};return s.IdentityId&&(e.identityId=s.IdentityId,this._identityIdStore.storeIdentityId({id:s.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new Jt({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}const yn={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var mn;!function(e){e.InvalidAuthTokens="InvalidAuthTokens"}(mn||(mn={}));const bn=Bt({[mn.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}}),vn="CognitoIdentityServiceProvider";class wn{getKeyValueStorage(){if(!this.keyValueStorage)throw new Jt({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{const e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new Jt({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const n=Ht(t),r=await this.getKeyValueStorage().getItem(e.idToken),o=r?Ht(r):void 0,i=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,s=await this.getKeyValueStorage().getItem(e.clockDrift)??"0",a=Number.parseInt(s),c=await this.getKeyValueStorage().getItem(e.signInDetails),u={accessToken:n,idToken:o,refreshToken:i,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:a,username:await this.getLastAuthUser()};return c&&(u.signInDetails=JSON.parse(c)),u}catch(e){return null}}async storeTokens(e){bn(void 0!==e,mn.InvalidAuthTokens);const t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);const n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){const e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){const t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),o=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return o&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:o}:null}async clearDeviceMetadata(e){const t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){qt(this.authConfig?.Cognito);const t=e??await this.getLastAuthUser();return Sn(vn,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){qt(this.authConfig?.Cognito);const e=this.authConfig.Cognito.userPoolClientId;return`${vn}.${e}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(e){const{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){const{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}}const Sn=(e,t)=>_n(yn)(`${e}`,t);function _n(e){const t=Object.values({...e});return(e,n)=>t.reduce(((t,r)=>({...t,[r]:`${e}.${n}.${r}`})),{})}const In={identityId:"identityId"},En=new L("DefaultIdentityIdStore");class Cn{setAuthConfig(e){zt(e.Cognito),this.authConfig=e,this._authKeys=kn("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){zt(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:"guest"}):null}}catch(e){return En.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){zt(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const kn=(e,t)=>_n(In)(`com.amplify.${e}`,t),An=new gn(new Cn($)),On="cognito-idp",Tn=({endpointOverride:e})=>t=>e?{url:new an(e)}:(({region:e})=>({url:new an(`https://${On}.${e}.${sn(e)}`)}))(t),xn=Tt(Rt,[()=>(e,t)=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),Pn={service:On,retryDecider:ht(ot),computeDelay:lt,get userAgentValue(){return tt()},cache:"no-store"},Nn=(e=>{let t;return async(...n)=>t||(t=new Promise(((r,o)=>{e(...n).then((e=>{r(e)})).catch((e=>{o(e)})).finally((()=>{t=void 0}))})),t)})((async({tokens:e,authConfig:t,username:n})=>{qt(t?.Cognito);const{userPoolId:r,userPoolClientId:o,userPoolEndpoint:i}=t.Cognito,s=function(e){const t=e?.split("_")[0];if(!e||e.indexOf("_")<0||!t||"string"!=typeof t)throw new Jt({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}(r);!function(e){if(function(e){return nn(e)&&!e?.refreshToken}(e))throw Zt;if(!function(e){return nn(e)&&e?.refreshToken}(e))throw en}(e);const a=(e=>st(xn,((e,t)=>(({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}))(t,{"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityProviderService.GetTokensFromRefreshToken"},JSON.stringify(e))),(async e=>{if(e.statusCode>=300){const t=await ot(e);throw Xt(t),new Jt({name:t.name,message:t.message,metadata:t.$metadata})}return it(e)}),{...Pn,...e}))({endpointResolver:Tn({endpointOverride:i})}),{AuthenticationResult:c}=await a({region:s},{ClientId:o,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey}),u=Ht(c?.AccessToken??""),l=c?.IdToken?Ht(c.IdToken):void 0,{iat:d}=u.payload;if(!d)throw new Jt({name:"iatNotFoundException",message:"iat not found in access token"});return{accessToken:u,idToken:l,clockDrift:1e3*d-(new Date).getTime(),refreshToken:c?.RefreshToken??e.refreshToken,username:n}}));function Rn({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}const Dn="amplify-signin-with-hostedUI",Ln="CognitoIdentityServiceProvider",Mn=(e,t)=>_n(tn)(e,t),Un=new class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Dn),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){qt(this.cognitoConfig);const t=Mn(Ln,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){qt(this.cognitoConfig);const t=Mn(Ln,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId);return"true"===await this.keyValueStorage.getItem(e.inflightOAuth)}async storeOAuthInFlight(e){qt(this.cognitoConfig);const t=Mn(Ln,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){qt(this.cognitoConfig);const e=Mn(Ln,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(Dn),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(",")??[];return{isOAuthSignIn:"true"===n||"true"===t,preferPrivateSession:"true"===r}}async storeOAuthSignIn(e,t=!1){qt(this.cognitoConfig);const n=Mn(Ln,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}}($),jn=[];class Kn{constructor(){this.waitForInflightOAuth="undefined"!=typeof window&&void 0!==window.document?async()=>{if(await Un.loadOAuthInFlight())return this.inflightPromise||(this.inflightPromise=new Promise(((e,t)=>{var n;n=e,jn.push(n)}))),this.inflightPromise}:async()=>{}}setAuthConfig(e){Un.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new Jt({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new Jt({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(e){let t;try{qt(this.authConfig?.Cognito)}catch(e){return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();const n=await this.getTokenStore().getLastAuthUser();if(null===t)return null;const r=!!t?.idToken&&Rn({expiresAt:1e3*(t.idToken?.payload?.exp??0),clockDrift:t.clockDrift??0}),o=Rn({expiresAt:1e3*(t.accessToken?.payload?.exp??0),clockDrift:t.clockDrift??0});return(e?.forceRefresh||r||o)&&(t=await this.refreshTokens({tokens:t,username:n}),null===t)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t}){try{const{signInDetails:n}=e,r=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t});return r.signInDetails=n,await this.setTokens({tokens:r}),V.dispatch("auth",{event:"tokenRefresh"},"Auth",G),r}catch(e){return this.handleErrors(e)}}handleErrors(e){if(Xt(e),e.name!==k.NetworkError&&this.clearTokens(),V.dispatch("auth",{event:"tokenRefresh_failure",data:{error:e}},"Auth",G),e.name.startsWith("NotAuthorizedException"))return null;throw e}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}const $n=new class{constructor(){this.authTokenStore=new wn,this.authTokenStore.setKeyValueStorage($),this.tokenOrchestrator=new Kn,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Nn)}getTokens({forceRefresh:e}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:e})}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:Gn}=$n,Bn={configure(e,t){const n=re(e),r=new O({sameSite:"lax"}),o=t?.ssr?r:$,i=t?.ssr?new gn(new Cn(r)):An;if(n.Auth)if(t?.Auth)Ce.configure(n,t);else{if(!Ce.libraryOptions.Auth)return $n.setAuthConfig(n.Auth),$n.setKeyValueStorage(o),void Ce.configure(n,{...t,Auth:{tokenProvider:$n,credentialsProvider:i}});if(t){const e=Ce.libraryOptions.Auth;return void 0!==t.ssr&&($n.setKeyValueStorage(o),e.credentialsProvider=i),void Ce.configure(n,{Auth:e,...t})}Ce.configure(n)}else Ce.configure(n,t)},getConfig:()=>Ce.getConfig()},Fn=[400,401,403],Vn=["BadRequestException","UnauthorizedException"];var Wn,qn,zn;!function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error",e.EVENT_SUBSCRIBE="subscribe",e.EVENT_PUBLISH="publish",e.EVENT_SUBSCRIBE_ACK="subscribe_success",e.EVENT_PUBLISH_ACK="publish_success",e.EVENT_STOP="unsubscribe",e.EVENT_COMPLETE="unsubscribe_success",e.EVENT_SUBSCRIBE_ERROR="subscribe_error"}(Wn||(Wn={})),function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"}(qn||(qn={})),function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"}(zn||(zn={}));const Hn={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},Jn=3e5;function Xn(e){return"function"==typeof e}var Qn,Yn=((Qn=function(e){var t;t=this,Error.call(t),t.stack=(new Error).stack,this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}).prototype=Object.create(Error.prototype),Qn.prototype.constructor=Qn,Qn);function Zn(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var er=function(){function e(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var e,t,n,r,o;if(!this.closed){this.closed=!0;var i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=ce(i),a=s.next();!a.done;a=s.next())a.value.remove(this)}catch(t){e={error:t}}finally{try{a&&!a.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}else i.remove(this);var c=this.initialTeardown;if(Xn(c))try{c()}catch(e){o=e instanceof Yn?e.errors:[e]}var u=this._finalizers;if(u){this._finalizers=null;try{for(var l=ce(u),d=l.next();!d.done;d=l.next()){var h=d.value;try{nr(h)}catch(e){o=null!=o?o:[],e instanceof Yn?o=le(le([],ue(o)),ue(e.errors)):o.push(e)}}}catch(e){n={error:e}}finally{try{d&&!d.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}}if(o)throw new Yn(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)nr(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}},e.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},e.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},e.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&Zn(t,e)},e.prototype.remove=function(t){var n=this._finalizers;n&&Zn(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function tr(e){return e instanceof er||e&&"closed"in e&&Xn(e.remove)&&Xn(e.add)&&Xn(e.unsubscribe)}function nr(e){Xn(e)?e():e.unsubscribe()}er.EMPTY;var rr={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},or={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=or.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,le([e,t],ue(n))):setTimeout.apply(void 0,le([e,t],ue(n)))},clearTimeout:function(e){var t=or.delegate;return((null==t?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function ir(e){or.setTimeout((function(){var t=rr.onUnhandledError;if(!t)throw e;t(e)}))}function sr(){}var ar=cr("C",void 0,void 0);function cr(e,t,n){return{kind:e,value:t,error:n}}var ur=null,lr=function(e){function t(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,tr(t)&&t.add(n)):n.destination=mr,n}return ie(t,e),t.create=function(e,t,n){return new fr(e,t,n)},t.prototype.next=function(e){this.isStopped?yr(function(e){return cr("N",e,void 0)}(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?yr(cr("E",void 0,e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?yr(ar,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(er),dr=Function.prototype.bind;function hr(e,t){return dr.call(e,t)}var pr=function(){function e(e){this.partialObserver=e}return e.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(e){gr(e)}},e.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(e){gr(e)}else gr(e)},e.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(e){gr(e)}},e}(),fr=function(e){function t(t,n,r){var o,i,s=e.call(this)||this;return Xn(t)||!t?o={next:null!=t?t:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&rr.useDeprecatedNextContext?((i=Object.create(t)).unsubscribe=function(){return s.unsubscribe()},o={next:t.next&&hr(t.next,i),error:t.error&&hr(t.error,i),complete:t.complete&&hr(t.complete,i)}):o=t,s.destination=new pr(o),s}return ie(t,e),t}(lr);function gr(e){var t;rr.useDeprecatedSynchronousErrorHandling?(t=e,rr.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=t)):ir(e)}function yr(e,t){var n=rr.onStoppedNotification;n&&or.setTimeout((function(){return n(e,t)}))}var mr={closed:!0,next:sr,error:function(e){throw e},complete:sr},br="function"==typeof Symbol&&Symbol.observable||"@@observable";function vr(e){return e}var wr=function(){function e(e){e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r,o=this,i=(r=e)&&r instanceof lr||function(e){return e&&Xn(e.next)&&Xn(e.error)&&Xn(e.complete)}(r)&&tr(r)?e:new fr(e,t,n);return function(e){if(rr.useDeprecatedSynchronousErrorHandling){var t=!ur;if(t&&(ur={errorThrown:!1,error:null}),e(),t){var n=ur,r=n.errorThrown,o=n.error;if(ur=null,r)throw o}}else e()}((function(){var e=o,t=e.operator,n=e.source;i.add(t?t.call(i,n):n?o._subscribe(i):o._trySubscribe(i))})),i},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=Sr(t))((function(t,r){var o=new fr({next:function(t){try{e(t)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t});n.subscribe(o)}))},e.prototype._subscribe=function(e){var t;return null===(t=this.source)||void 0===t?void 0:t.subscribe(e)},e.prototype[br]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0===(n=e).length?vr:1===n.length?n[0]:function(e){return n.reduce((function(e,t){return t(e)}),e)})(this);var n},e.prototype.toPromise=function(e){var t=this;return new(e=Sr(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function Sr(e){var t;return null!==(t=null!=e?e:rr.Promise)&&void 0!==t?t:Promise}function _r(e){return _r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_r(e)}"function"==typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"==typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var Ir="function"==typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";function Er(e,t){for(var n,r=/\r\n|[\n\r]/g,o=1,i=t+1;(n=r.exec(e.body))&&n.index<t;)o+=1,i=t+1-(n.index+n[0].length);return{line:o,column:i}}function Cr(e){return kr(e.source,Er(e.source,e.start))}function kr(e,t){var n=e.locationOffset.column-1,r=Or(n)+e.body,o=t.line-1,i=e.locationOffset.line-1,s=t.line+i,a=1===t.line?n:0,c=t.column+a,u="".concat(e.name,":").concat(s,":").concat(c,"\n"),l=r.split(/\r\n|[\n\r]/g),d=l[o];if(d.length>120){for(var h=Math.floor(c/80),p=c%80,f=[],g=0;g<d.length;g+=80)f.push(d.slice(g,g+80));return u+Ar([["".concat(s),f[0]]].concat(f.slice(1,h+1).map((function(e){return["",e]})),[[" ",Or(p-1)+"^"],["",f[h+1]]]))}return u+Ar([["".concat(s-1),l[o-1]],["".concat(s),d],["",Or(c-1)+"^"],["".concat(s+1),l[o+1]]])}function Ar(e){var t=e.filter((function(e){return e[0],void 0!==e[1]})),n=Math.max.apply(Math,t.map((function(e){return e[0].length})));return t.map((function(e){var t,r=e[0],o=e[1];return Or(n-(t=r).length)+t+(o?" | "+o:" |")})).join("\n")}function Or(e){return Array(e+1).join(" ")}function Tr(e){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(e)}function xr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Pr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Nr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rr(e,t){return!t||"object"!==Tr(t)&&"function"!=typeof t?Dr(e):t}function Dr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lr(e){var t="function"==typeof Map?new Map:void 0;return Lr=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return Mr(e,arguments,Kr(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),jr(r,e)},Lr(e)}function Mr(e,t,n){return Mr=Ur()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&jr(o,n.prototype),o},Mr.apply(null,arguments)}function Ur(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function jr(e,t){return jr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},jr(e,t)}function Kr(e){return Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Kr(e)}var $r=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&jr(e,t)}(s,e);var t,n,r,o,i=(t=s,n=Ur(),function(){var e,r=Kr(t);if(n){var o=Kr(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return Rr(this,e)});function s(e,t,n,r,o,a,c){var u,l,d,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(h=i.call(this,e)).name="GraphQLError",h.originalError=null!=a?a:void 0,h.nodes=Gr(Array.isArray(t)?t:t?[t]:void 0);for(var p=[],f=0,g=null!==(y=h.nodes)&&void 0!==y?y:[];f<g.length;f++){var y,m=g[f].loc;null!=m&&p.push(m)}p=Gr(p),h.source=null!=n?n:null===(u=p)||void 0===u?void 0:u[0].source,h.positions=null!=r?r:null===(l=p)||void 0===l?void 0:l.map((function(e){return e.start})),h.locations=r&&n?r.map((function(e){return Er(n,e)})):null===(d=p)||void 0===d?void 0:d.map((function(e){return Er(e.source,e.start)})),h.path=null!=o?o:void 0;var b,v=null==a?void 0:a.extensions;return null==c&&"object"==_r(b=v)&&null!==b?h.extensions=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(n),!0).forEach((function(t){Pr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},v):h.extensions=null!=c?c:{},Object.defineProperties(Dr(h),{message:{enumerable:!0},locations:{enumerable:null!=h.locations},path:{enumerable:null!=h.path},extensions:{enumerable:null!=h.extensions&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!=a&&a.stack?(Object.defineProperty(Dr(h),"stack",{value:a.stack,writable:!0,configurable:!0}),Rr(h)):(Error.captureStackTrace?Error.captureStackTrace(Dr(h),s):Object.defineProperty(Dr(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return r=s,(o=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var o=r[n];o.loc&&(t+="\n\n"+Cr(o.loc))}else if(e.source&&e.locations)for(var i=0,s=e.locations;i<s.length;i++){var a=s[i];t+="\n\n"+kr(e.source,a)}return t}(this)}},{key:Ir,get:function(){return"Object"}}])&&Nr(r.prototype,o),s}(Lr(Error));function Gr(e){return void 0===e||0===e.length?void 0:e}class Br extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}const Fr=e=>e&&e.nonRetryable,Vr={convert(e,t={urlSafe:!1,skipPadding:!1}){const n="string"==typeof e?e:function(e){return Array.from(e,(e=>String.fromCodePoint(e))).join("")}(e);let r=(()=>{if("undefined"!=typeof window&&"function"==typeof window.btoa)return window.btoa;if("function"==typeof btoa)return btoa;throw new T({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})})()(n);return t.urlSafe&&(r=r.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(r=r.replace(/=/g,"")),r}},Wr=new L("retryUtil");var qr,zr;function Hr(e){return function(t){if(function(e){return Xn(null==e?void 0:e.lift)}(t))return t.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}));throw new TypeError("Unable to lift unknown Observable type")}}function Jr(e,t,n,r,o){return new Xr(e,t,n,r,o)}!function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"}(qr||(qr={})),function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"}(zr||(zr={}));var Xr=function(e){function t(t,n,r,o,i,s){var a=e.call(this,t)||this;return a.onFinalize=i,a.shouldUnsubscribe=s,a._next=n?function(e){try{n(e)}catch(e){t.error(e)}}:e.prototype._next,a._error=o?function(e){try{o(e)}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=r?function(){try{r()}catch(e){t.error(e)}finally{this.unsubscribe()}}:e.prototype._complete,a}return ie(t,e),t.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}},t}(lr),Qr=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function Yr(e){return Xn(null==e?void 0:e.then)}function Zr(e){return Xn(e[br])}function eo(e){return Symbol.asyncIterator&&Xn(null==e?void 0:e[Symbol.asyncIterator])}function to(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var no="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function ro(e){return Xn(null==e?void 0:e[no])}function oo(e){return function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=o[e](t)).value instanceof de?Promise.resolve(n.value.v).then(c,u):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}(this,arguments,(function(){var t,n,r;return ae(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,de(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,de(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,de(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}function io(e){return Xn(null==e?void 0:e.getReader)}function so(e){if(e instanceof wr)return e;if(null!=e){if(Zr(e))return o=e,new wr((function(e){var t=o[br]();if(Xn(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(Qr(e))return r=e,new wr((function(e){for(var t=0;t<r.length&&!e.closed;t++)e.next(r[t]);e.complete()}));if(Yr(e))return n=e,new wr((function(e){n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,ir)}));if(eo(e))return ao(e);if(ro(e))return t=e,new wr((function(e){var n,r;try{for(var o=ce(t),i=o.next();!i.done;i=o.next()){var s=i.value;if(e.next(s),e.closed)return}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}e.complete()}));if(io(e))return ao(oo(e))}var t,n,r,o;throw to(e)}function ao(e){return new wr((function(t){(function(e,t){var n,r,o,i;return se(this,void 0,void 0,(function(){var s,a;return ae(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=ce(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,o,(t=e[n](t)).done,t.value)}))}}}(e),c.label=1;case 1:return[4,n.next()];case 2:if((r=c.sent()).done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=c.sent(),o={error:a},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}}))}))})(e,t).catch((function(e){return t.error(e)}))}))}class co{networkMonitor(e){const t=(()=>{if("undefined"==typeof self)return!1;const e=self;return void 0!==e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope})()?self:"undefined"!=typeof window&&window;return t?new wr((e=>{e.next({online:t.navigator.onLine});const n=()=>{e.next({online:!0})},r=()=>{e.next({online:!1})};return t.addEventListener("online",n),t.addEventListener("offline",r),co._observers.push(e),()=>{t.removeEventListener("online",n),t.removeEventListener("offline",r),co._observers=co._observers.filter((t=>t!==e))}})):so([{online:!0}])}static _observerOverride(e){for(const t of this._observers)t.closed?this._observers=this._observers.filter((e=>e!==t)):t?.next&&t.next(e)}}co._observers=[];const uo=()=>(new co).networkMonitor(),lo={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class ho{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=uo().subscribe((({online:e})=>{this.record(e?lo.ONLINE:lo.OFFLINE),this._initialNetworkStateSubscription?.unsubscribe()})),this._linkedConnectionStateObservable=new wr((e=>{e.next(this._linkedConnectionState),this._linkedConnectionStateObserver=e}))}enableNetworkMonitoring(){this._initialNetworkStateSubscription?.unsubscribe(),void 0===this._networkMonitoringSubscription&&(this._networkMonitoringSubscription=uo().subscribe((({online:e})=>{this.record(e?lo.ONLINE:lo.OFFLINE)})))}disableNetworkMonitoring(){this._networkMonitoringSubscription?.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let e;return this._linkedConnectionStateObservable.pipe((n=e=>this.connectionStatesTranslator(e),Hr((function(e,t){var r=0;e.subscribe(Jr(t,(function(e){t.next(n.call(undefined,e,r++))})))})))).pipe((t=t=>{const n=t!==e;return e=t,n},Hr((function(e,n){var r=0;e.subscribe(Jr(n,(function(e){return t.call(void 0,e,r++)&&n.next(e)})))}))));var t,n}record(e){"connected"===e.intendedConnectionState?this.enableNetworkMonitoring():"disconnected"===e.intendedConnectionState&&this.disableNetworkMonitoring();const t={...this._linkedConnectionState,...e};this._linkedConnectionState={...t},this._linkedConnectionStateObserver?.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:e,networkState:t,intendedConnectionState:n,keepAliveState:r}){return"connected"===e&&"disconnected"===t?zr.ConnectedPendingNetwork:"connected"===e&&"disconnected"===n?zr.ConnectedPendingDisconnect:"disconnected"===e&&"connected"===n&&"disconnected"===t?zr.ConnectionDisruptedPendingNetwork:"disconnected"===e&&"connected"===n?zr.ConnectionDisrupted:"connected"===e&&"unhealthy"===r?zr.ConnectedPendingKeepAlive:"connecting"===e?zr.Connecting:"disconnected"===e?zr.Disconnected:zr.Connected}}var po;!function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"}(po||(po={}));class fo{constructor(){this.reconnectObservers=[]}addObserver(e){this.reconnectObservers.push(e)}record(e){e===po.START_RECONNECT&&void 0===this.reconnectSetTimeoutId&&void 0===this.reconnectIntervalId&&(this.reconnectSetTimeoutId=setTimeout((()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval((()=>{this._triggerReconnect()}),6e4)}),5e3)),e===po.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach((e=>{e.complete?.()}))}_triggerReconnect(){this.reconnectObservers.forEach((e=>{e.next?.()}))}}const go="wss://",yo=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,mo=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,bo="/realtime",vo=async e=>{const{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:r=(()=>({})),additionalHeaders:o={},authToken:i}=e;let s={};const a=await r();if("function"==typeof o){const e={url:t||"",queryString:n||""};s=await o(e)}else s=o;return i&&(s={...s,Authorization:i}),{additionalCustomHeaders:s,libraryConfigHeaders:a}},wo=e=>((e,t)=>e.Auth.fetchAuthSession(t))(Ce,e),So=e=>Object.keys(e).map((e=>e.toLowerCase())).sort().join(";"),_o="X-Amz-Date".toLowerCase(),Io="X-Amz-Security-Token".toLowerCase(),Eo="aws4_request",Co="AWS4-HMAC-SHA256",ko=(e,t)=>{const n=new ve(e??void 0);return n.update(t),n.digestSync()},Ao=(e,t)=>function(e){let t="";for(let n=0;n<e.byteLength;n++)t+=we[e[n]];return t}(ko(e,t)),Oo=e=>Object.entries(e).map((([e,t])=>({key:e.toLowerCase(),value:t?.trim().replace(/\s+/g," ")??""}))).sort(((e,t)=>e.key<t.key?-1:1)).map((e=>`${e.key}:${e.value}\n`)).join(""),To=e=>encodeURIComponent(e).replace(/[!'()*]/g,xo),xo=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Po=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",No=e=>null==e?"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855":Ro(e)?Ao(null,e):"UNSIGNED-PAYLOAD",Ro=e=>"string"==typeof e||ArrayBuffer.isView(e)||Do(e),Do=e=>"function"==typeof ArrayBuffer&&e instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(e),Lo=(e,t)=>{const n=(({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:r,uriEscapePath:o=!0})=>{const{accessKeyId:i,secretAccessKey:s,sessionToken:a}=e,{longDate:c,shortDate:u}=(e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}})(t);return{accessKeyId:i,credentialScope:`${u}/${n}/${r}/${Eo}`,longDate:c,secretAccessKey:s,sessionToken:a,shortDate:u,signingRegion:n,signingService:r,uriEscapePath:o}})(t),{accessKeyId:r,credentialScope:o,longDate:i,sessionToken:s}=n,a={...e.headers};a.host=e.url.host,a[_o]=i,s&&(a[Io]=s);const c={...e,headers:a},u=((e,{credentialScope:t,longDate:n,secretAccessKey:r,shortDate:o,signingRegion:i,signingService:s,uriEscapePath:a})=>{const c=(({body:e,headers:t,method:n,url:r},o=!0)=>{return[n,Po(r.pathname,o),(i=r.searchParams,Array.from(i).sort((([e,t],[n,r])=>e===n?t<r?-1:1:e<n?-1:1)).map((([e,t])=>`${To(e)}=${To(t)}`)).join("&")),Oo(t),So(t),No(e)].join("\n");var i})(e,a),u=((e,t,n)=>[Co,e,t,n].join("\n"))(n,t,Ao(null,c)),l=Ao(((e,t,n,r)=>{const o=ko(`AWS4${e}`,t),i=ko(o,n),s=ko(i,r);return ko(s,Eo)})(r,o,i,s),u);return l})(c,n),l=`Credential=${r}/${o}`,d=`SignedHeaders=${So(a)}`,h=`Signature=${u}`;return a.authorization=`${Co} ${l}, ${d}, ${h}`,c},Mo=new L("AWSAppSyncRealTimeProvider Auth"),Uo=async({host:e})=>{const t=await wo();return{Authorization:t?.tokens?.accessToken?.toString(),host:e}},jo=async({apiKey:e,host:t})=>({host:t,"x-amz-date":(new Date).toISOString().replace(/[:-]|\.\d{3}/g,""),"x-api-key":e}),Ko=async({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:r})=>{const o={region:r,service:"appsync"},i=(await wo()).credentials,s={url:`${n}${t}`,data:e,method:"POST",headers:{...Hn}};return Lo({headers:s.headers,method:s.method,url:new an(s.url),body:s.data},{credentials:i,signingRegion:o.region,signingService:o.service}).headers},$o=async({host:e,additionalCustomHeaders:t})=>{if(!t?.Authorization)throw new Error("No auth token specified");return{Authorization:t.Authorization,host:e}},Go=async({apiKey:e,authenticationType:t,canonicalUri:n,appSyncGraphqlEndpoint:r,region:o,additionalCustomHeaders:i,payload:s})=>{const a={apiKey:jo,iam:Ko,oidc:Uo,userPool:Uo,lambda:$o,none:$o};if(t&&a[t]){const c=a[t],u=r?new an(r).host:void 0,l="apiKey"===t?e:void 0;return Mo.debug(`Authenticating with ${JSON.stringify(t)}`),await c({payload:s,canonicalUri:n,appSyncGraphqlEndpoint:r,apiKey:l,region:o,host:u,additionalCustomHeaders:i})}Mo.debug(`Authentication type ${t} not supported`)},Bo=e=>{V.dispatch("api",e,"PubSub",G)};class Fo{constructor(e){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=zn.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new ho,this.reconnectionMonitor=new fo,this._establishConnection=async(e,t)=>{this.logger.debug(`Establishing WebSocket connection to ${e}`);try{await this._openConnection(e,t),await this._initiateHandshake()}catch(e){const{errorType:t,errorCode:n}=e;throw Fn.includes(n)||Vn.includes(t)?new Br(t):t?new Error(t):e}},this.logger=new L(e.providerName),this.wsProtocolName=e.wsProtocolName,this.wsConnectUri=e.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=zn.CLOSED,this.connectionStateMonitor.record(lo.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise(((e,t)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=t=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,e()},this.awsRealTimeSocket.onerror=e=>{t(e)},this.awsRealTimeSocket.close()):e()}))}subscribe(e,t){return new wr((n=>{if(!e?.appSyncGraphqlEndpoint)return n.error({errors:[{...new $r("Subscribe only available for AWS AppSync endpoint")}]}),void n.complete();let r=!1;const o=At(),i=()=>{r||(r=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:e,observer:n,subscriptionId:o,customUserAgentDetails:t}).catch((e=>{this.logger.debug(`${qr.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${e}`),this._closeSocket()})).finally((()=>{r=!1})))},s=new wr((e=>{this.reconnectionMonitor.addObserver(e)})).subscribe((()=>{i()}));return i(),async()=>{await this._cleanupSubscription(o,s)}}))}async connect(e){this.socketStatus!==zn.READY&&await this._connectWebSocket(e)}async publish(e,t){if(this.socketStatus!==zn.READY)throw new Error("Subscription has not been initialized");return this._publishMessage(e,t)}async _connectWebSocket(e){const{apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:r,region:o}=e,{additionalCustomHeaders:i}=await vo(e);this.connectionStateMonitor.record(lo.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:t,appSyncGraphqlEndpoint:n,authenticationType:r,region:o,additionalCustomHeaders:i})}async _publishMessage(e,t){const n=At(),{additionalCustomHeaders:r,libraryConfigHeaders:o}=await vo(e),i=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:t,additionalCustomHeaders:r,libraryConfigHeaders:o,publish:!0});return new Promise(((e,t)=>{if(this.awsRealTimeSocket){const r=o=>{const i=JSON.parse(o.data);if(i.id===n&&"publish_success"===i.type&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",r),a(),e()),i.errors&&i.errors.length>0){const e=i.errors.map((e=>e.errorType));a(),t(new Error(`Publish errors: ${e.join(", ")}`))}},o=e=>{a(),t(new Error(`WebSocket error: ${e}`))},s=()=>{a(),t(new Error("WebSocket is closed"))},a=()=>{this.awsRealTimeSocket?.removeEventListener("message",r),this.awsRealTimeSocket?.removeEventListener("error",o),this.awsRealTimeSocket?.removeEventListener("close",s)};this.awsRealTimeSocket.addEventListener("message",r),this.awsRealTimeSocket.addEventListener("error",o),this.awsRealTimeSocket.addEventListener("close",s),this.awsRealTimeSocket.send(i)}else t(new Error("WebSocket is not connected"))}))}async _cleanupSubscription(e,t){t?.unsubscribe();try{await this._waitForSubscriptionToBeConnected(e);const{subscriptionState:t}=this.subscriptionObserverMap.get(e)||{};if(!t)return;if(t!==qn.CONNECTED)throw new Error("Subscription never connected");this._sendUnsubscriptionMessage(e)}catch(e){this.logger.debug(`Error while unsubscribing ${e}`)}finally{this._removeSubscriptionObserver(e)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe((e=>{Bo({event:"ConnectionStateChange",data:{provider:this,connectionState:e},message:`Connection state is ${e}`}),this.connectionState=e,e===zr.ConnectionDisrupted&&this.reconnectionMonitor.record(po.START_RECONNECT),[zr.Connected,zr.ConnectedPendingDisconnect,zr.ConnectedPendingKeepAlive,zr.ConnectedPendingNetwork,zr.ConnectionDisruptedPendingNetwork,zr.Disconnected].includes(e)&&this.reconnectionMonitor.record(po.HALT_RECONNECT)}))}async _startSubscriptionWithAWSAppSyncRealTime({options:e,observer:t,subscriptionId:n,customUserAgentDetails:r}){const{query:o,variables:i}=e;this.subscriptionObserverMap.set(n,{observer:t,query:o??"",variables:i??{},subscriptionState:qn.PENDING,startAckTimeoutId:void 0});const{additionalCustomHeaders:s,libraryConfigHeaders:a}=await vo(e),c=await this._prepareSubscriptionPayload({options:e,subscriptionId:n,customUserAgentDetails:r,additionalCustomHeaders:s,libraryConfigHeaders:a});try{await this._connectWebSocket(e)}catch(e){return void this._logStartSubscriptionError(n,t,e)}const{subscriptionFailedCallback:u,subscriptionReadyCallback:l}=this.subscriptionObserverMap.get(n)??{};this.subscriptionObserverMap.set(n,{observer:t,subscriptionState:qn.PENDING,query:o??"",variables:i??{},subscriptionReadyCallback:l,subscriptionFailedCallback:u,startAckTimeoutId:setTimeout((()=>{this._timeoutStartSubscriptionAck(n)}),15e3)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(c)}_logStartSubscriptionError(e,t,n){this.logger.debug({err:n});const r=String(n.message??"");if(this._closeSocket(),this.connectionState!==zr.ConnectionDisruptedPendingNetwork){Fr(n)?t.error({errors:[{...new $r(`${qr.CONNECTION_FAILED}: ${r}`)}]}):this.logger.debug(`${qr.CONNECTION_FAILED}: ${r}`);const{subscriptionFailedCallback:o}=this.subscriptionObserverMap.get(e)||{};"function"==typeof o&&o()}}async _waitForSubscriptionToBeConnected(e){const t=this.subscriptionObserverMap.get(e);if(t){const{subscriptionState:n}=t;if(n===qn.PENDING)return new Promise(((n,r)=>{const{observer:o,subscriptionState:i,variables:s,query:a}=t;this.subscriptionObserverMap.set(e,{observer:o,subscriptionState:i,variables:s,query:a,subscriptionReadyCallback:n,subscriptionFailedCallback:r})}))}}_sendUnsubscriptionMessage(e){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===zn.READY){const t=this._unsubscribeMessage(e),n=JSON.stringify(t);this.awsRealTimeSocket.send(n)}}catch(e){this.logger.debug({err:e})}}_removeSubscriptionObserver(e){this.subscriptionObserverMap.delete(e),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0))if(this.awsRealTimeSocket)if(this.connectionStateMonitor.record(lo.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");const e=this.awsRealTimeSocket;e.onclose=null,e.onerror=null,e.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=zn.CLOSED,this._closeSocket()}else this.socketStatus=zn.CLOSED}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(e){const t=Date.now();t-this.keepAliveTimestamp>65e3?this.connectionStateMonitor.record(lo.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(lo.KEEP_ALIVE),t-this.keepAliveTimestamp>e&&this._errorDisconnect(qr.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(e){if("string"!=typeof e.data)return;const[t,n]=this._handleSubscriptionData(e);if(t)return void this.maintainKeepAlive();const{type:r,id:o,payload:i}=n,{observer:s=null,query:a="",variables:c={},startAckTimeoutId:u,subscriptionReadyCallback:l,subscriptionFailedCallback:d}=this.subscriptionObserverMap.get(o)||{};if(r===Wn.GQL_START_ACK||r===Wn.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:a,variables:c})}`),"function"==typeof l&&l(),u&&clearTimeout(u),Bo({event:qr.SUBSCRIPTION_ACK,data:{query:a,variables:c},message:"Connection established for subscription"});const e=qn.CONNECTED;return s&&this.subscriptionObserverMap.set(o,{observer:s,query:a,variables:c,startAckTimeoutId:void 0,subscriptionState:e,subscriptionReadyCallback:l,subscriptionFailedCallback:d}),void this.connectionStateMonitor.record(lo.CONNECTION_ESTABLISHED)}if(r!==Wn.GQL_CONNECTION_KEEP_ALIVE){if(r===Wn.GQL_ERROR||r===Wn.EVENT_SUBSCRIBE_ERROR){const t=qn.FAILED;if(s){this.subscriptionObserverMap.set(o,{observer:s,query:a,variables:c,startAckTimeoutId:u,subscriptionReadyCallback:l,subscriptionFailedCallback:d,subscriptionState:t});let h=JSON.stringify(i??n);if(r===Wn.EVENT_SUBSCRIBE_ERROR){const{errors:t}=JSON.parse(String(e.data));if(Array.isArray(t)&&t.length>0){const e=t[0];h=`${e.errorType}: ${e.message}`}}this.logger.debug(`${qr.CONNECTION_FAILED}: ${h}`),s.error({errors:[{...new $r(`${qr.CONNECTION_FAILED}: ${h}`)}]}),u&&clearTimeout(u),"function"==typeof d&&d()}}}else this.maintainKeepAlive()}_errorDisconnect(e){this.logger.debug(`Disconnect error: ${e}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=zn.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(lo.CLOSED)}_timeoutStartSubscriptionAck(e){const t=this.subscriptionObserverMap.get(e);if(t){const{observer:n,query:r,variables:o}=t;if(!n)return;this.subscriptionObserverMap.set(e,{observer:n,query:r,variables:o,subscriptionState:qn.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:r,variables:o}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:e,authenticationType:t,apiKey:n,region:r,additionalCustomHeaders:o}){if(this.socketStatus!==zn.READY)return new Promise((async(i,s)=>{if(this.promiseArray.push({res:i,rej:s}),this.socketStatus===zn.CLOSED)try{this.socketStatus=zn.CONNECTING;const i="{}",s=await Go({authenticationType:t,payload:i,canonicalUri:this.wsConnectUri,apiKey:n,appSyncGraphqlEndpoint:e,region:r,additionalCustomHeaders:o}),a=s?JSON.stringify(s):"",c=`header-${Vr.convert(a,{urlSafe:!0,skipPadding:!0})}`,u=(e=>{const t=(e=>{if(!e)return{};if("Authorization"in e){const{Authorization:t,...n}=e;return n}return e})(e),n=new cn;return Object.entries(t).forEach((([e,t])=>{n.append(e,t)})),n})(o),l=((e,t)=>{const n=(e=>{let t=e??"";return t=null!==t.match(mo)?t.concat(bo).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):null===t.match(yo)?t.concat(bo):t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma"),t=t.replace("https://",go).replace("http://",go),new an(t)})(e),r=new cn(n.search);for(const[e,n]of t.entries())r.append(e,n);return n.search=r.toString(),n.toString()})(e,u);await this._establishRetryableConnection(l,c),this.promiseArray.forEach((({res:e})=>{this.logger.debug("Notifying connection successful"),e()})),this.socketStatus=zn.READY,this.promiseArray=[]}catch(e){this.logger.debug("Connection exited with",e),this.promiseArray.forEach((({rej:t})=>{t(e)})),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=zn.CLOSED}}))}async _establishRetryableConnection(e,t){this.logger.debug("Establishing retryable connection"),await((e,t,n=3e5,r)=>async function(e,t,n,r){if("function"!=typeof e)throw Error("functionToRetry must be a function");return new Promise((async(o,i)=>{let s,a,c=0,u=!1,l=()=>{};for(r&&r.then((()=>{u=!0,clearTimeout(s),l()}));!u;){c++,Wr.debug(`${e.name} attempt #${c} with this vars: ${JSON.stringify(t)}`);try{return void o(await e(...t))}catch(r){if(a=r,Wr.debug(`error on ${e.name}`,r),Fr(r))return Wr.debug(`${e.name} non retryable error`,r),void i(r);const o=n(c,t,r);if(Wr.debug(`${e.name} retrying in ${o} ms`),!1===o||u)return void i(r);await new Promise((e=>{l=e,s=setTimeout(l,o)}))}}i(a)}))}(e,t,at(n),r))(this._establishConnection.bind(this),[e,t],5e3)}async _openConnection(e,t){return new Promise(((n,r)=>{const o=this._getNewWebSocket(e,[this.wsProtocolName,t]);o.onerror=()=>{this.logger.debug("WebSocket connection error")},o.onclose=()=>{this._closeSocket(),r(new Error("Connection handshake error"))},o.onopen=()=>{this.awsRealTimeSocket=o,n()}}))}_getNewWebSocket(e,t){return new WebSocket(e,t)}async _initiateHandshake(){return new Promise(((e,t)=>{if(!this.awsRealTimeSocket)return void t(new Error("awsRealTimeSocket undefined"));let n=!1;this.awsRealTimeSocket.onerror=e=>{this.logger.debug(`WebSocket error ${JSON.stringify(e)}`)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),t(new Error(JSON.stringify(e)))},this.awsRealTimeSocket.onmessage=r=>{if("string"!=typeof r.data)return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${r.data} `);const o=JSON.parse(r.data),{type:i}=o,s=this._extractConnectionTimeout(o);if(i===Wn.GQL_CONNECTION_ACK)return n=!0,this._registerWebsocketHandlers(s),void e("Connected to AWS AppSyncRealTime");if(i===Wn.GQL_CONNECTION_ERROR){const{errorType:e,errorCode:n}=this._extractErrorCodeAndType(o);t({errorType:e,errorCode:n})}};const r={type:Wn.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(r));const o=e=>{e||(this.connectionStateMonitor.record(lo.CONNECTION_FAILED),t(new Error("Connection timeout: ack from AWSAppSyncRealTime was not received after 15000 ms")))};setTimeout((()=>{o(n)}),15e3)}))}_registerWebsocketHandlers(e){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval((()=>{this.keepAliveHeartbeat(e)}),5e3),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=e=>{this.logger.debug(e),this._errorDisconnect(qr.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=e=>{this.logger.debug(`WebSocket closed ${e.reason}`),this._closeSocket(),this._errorDisconnect(qr.CONNECTION_CLOSED)})}}const Vo=(e,t)=>e?"identityPool"===e?"iam":e:t,Wo=()=>{const e=Ce.getConfig(),t=e.API?.Events;if(!t)throw new Error("Amplify configuration is missing. Have you called Amplify.configure()?");const n=Vo(t.defaultAuthMode,"apiKey");return{appSyncGraphqlEndpoint:t.endpoint,region:t.region,authenticationType:n,apiKey:t.apiKey}},qo=e=>{if(Array.isArray(e))return e.map(((e,t)=>{const n=JSON.stringify(e);if(void 0===n)throw new Error(`Event must be a valid JSON value. Received ${e} at index ${t}`);return n}));const t=JSON.stringify(e);if(void 0===t)throw new Error(`Event must be a valid JSON value. Received ${e}`);return[t]},zo="AWSAppSyncEventsProvider",Ho=new class extends Fo{constructor(){super({providerName:zo,wsProtocolName:"aws-appsync-event-ws",connectUri:""}),this.allowNoSubscriptions=!0}getProviderName(){return zo}async connect(e){return super.connect(e)}subscribe(e,t){return super.subscribe(e,t).pipe()}async publish(e,t){return super.publish(e,t)}closeIfNoActiveSubscription(){this._closeSocketIfRequired()}async _prepareSubscriptionPayload({options:e,subscriptionId:t,customUserAgentDetails:n,additionalCustomHeaders:r,libraryConfigHeaders:o,publish:i}){const{appSyncGraphqlEndpoint:s,authenticationType:a,query:c,apiKey:u,region:l,variables:d}=e,h={channel:c,events:void 0!==d?qo(d):void 0},p=JSON.stringify(h),f={...await Go({apiKey:u,appSyncGraphqlEndpoint:s,authenticationType:a,payload:p,canonicalUri:"",region:l,additionalCustomHeaders:r}),...o,...r,[N]:tt(n)},g={id:t,channel:c,events:void 0!==d?qo(d):void 0,authorization:{...f},payload:{events:void 0!==d?qo(d):void 0,channel:c,extensions:{authorization:{...f}}},type:i?Wn.EVENT_PUBLISH:Wn.EVENT_SUBSCRIBE};return JSON.stringify(g)}_handleSubscriptionData(e){this.logger.debug(`subscription message from AWS AppSync Events: ${e.data}`);const{id:t="",event:n,type:r}=JSON.parse(String(e.data)),{observer:o=null,query:i="",variables:s={}}=this.subscriptionObserverMap.get(t)||{};if(this.logger.debug({id:t,observer:o,query:i,variables:s}),r===Wn.DATA&&n){const e=JSON.parse(n);return o?o.next({id:t,type:r,event:e}):this.logger.debug(`observer not found for id: ${t}`),[!0,{id:t,type:r,payload:e}]}return[!1,{id:t,type:r,payload:n}]}_unsubscribeMessage(e){return{id:e,type:Wn.EVENT_STOP}}_extractConnectionTimeout(e){const{connectionTimeoutMs:t=Jn}=e;return t}_extractErrorCodeAndType(e){const{errors:[{errorType:t="",errorCode:n=0}={}]=[]}=e;return{errorCode:n,errorType:t}}};class Jo extends T{get response(){return this._response?Xo(this._response):void 0}constructor(e){super(e),this.constructor=Jo,Object.setPrototypeOf(this,Jo.prototype),e.response&&(this._response=e.response)}}const Xo=e=>({...e,headers:{...e.headers}});class Qo extends Jo{constructor(e){super(e),this.constructor=Qo,Object.setPrototypeOf(this,Qo.prototype)}}class Yo extends Qo{constructor(e={}){super({name:"CanceledError",message:"Request is canceled by user",...e}),this.constructor=Yo,Object.setPrototypeOf(this,Yo.prototype)}}var Zo;!function(e){e.InvalidApiName="InvalidApiName"}(Zo||(Zo={})),Zo.InvalidApiName;const ei=async e=>{if(!e)return;const t=await ot(ti(e));if(t){const n=await(e.body?.text());return ni(t,{statusCode:e.statusCode,headers:e.headers,body:n})}},ti=e=>{let t;const n=new Proxy(e.body,{get:(e,n,r)=>"json"===n?async()=>{t||(t=e.text());try{return JSON.parse(await t)}catch(e){return{}}}:"text"===n?async()=>(t||(t=e.text()),t):Reflect.get(e,n,r)});return new Proxy(e,{get:(e,t,r)=>"body"===t?n:Reflect.get(e,t,r)})},ni=(e,t)=>{const n=new Qo({name:e?.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},ri=new L("RestApis"),oi=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,ii="execute-api",si="us-east-1",ai=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,ci=e=>new Date(Date.now()+e),ui=Tt(Nt,[Ot,wt,({credentials:e,region:t,service:n,uriEscapePath:r=!0})=>{let o;return(i,s)=>async function(a){o=o??0;const c={credentials:"function"==typeof e?await e({forceRefresh:!!s?.isCredentialsExpired}):e,signingDate:ci(o),signingRegion:t,signingService:n,uriEscapePath:r},u=await Lo(a,c),l=await i(u),d=(({headers:e}={})=>e?.date??e?.Date??e?.["x-amz-date"])(l);return d&&(o=((e,t)=>((e,t)=>Math.abs(ci(t).getTime()-e)>=3e5)(e,t)?e-Date.now():t)(Date.parse(d),o)),l}}]),li=Tt(Nt,[Ot,wt]),di=e=>{const t=e?.strategy;return"no-retry"===t?()=>Promise.resolve({retryable:!1}):ht(ei)},hi=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch(e){ri.debug("No credentials available, the request will be unsigned.")}return null},pi=new WeakMap,fi=(e,{url:t,options:n,abortController:r})=>{const o=r??new AbortController,i=function(e,t){const n=e=>!!t,r=new AbortController,o=r.signal,i=t?.signal;let s;const a=async()=>{try{const t=await(n(),e());if(t.statusCode>=300)throw await ei(t);return t}catch(e){const t=i??o,n=s??t.reason;if("AbortError"===e.name||!0===t?.aborted){const t=new Yo({...n&&{message:n},underlyingError:e,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw ri.debug(e),t}throw ri.debug(e),e}};if(n())return a();{const e=e=>{!0!==o.aborted&&(r.abort(e),e&&o.reason!==e&&(s=e))};return{response:a(),cancel:e}}}((async()=>(async(e,t,n,r)=>{const{url:o,method:i,headers:s,body:a,withCredentials:c,abortSignal:u,retryStrategy:l}=t,d=a?a instanceof FormData?a:JSON.stringify(a??""):void 0,h=((e,t)=>{const n={};for(const t in e)n[t.toLowerCase()]=e[t];if(t){const e=n["content-type"];e&&(e.startsWith("application/json")||e.startsWith("application/")&&e.includes("+json"))||(n["content-type"]="application/json; charset=UTF-8"),t instanceof FormData&&delete n["content-type"]}return n})(s,a),p={url:o,headers:h,method:i,body:d},f={retryDecider:di(l??e?.libraryOptions?.API?.REST?.retryStrategy),computeDelay:lt,withCrossDomainCredentials:c,abortSignal:u},g=n(p,r);let y;const m=await hi(e);if(g&&m){const e=((e,t)=>{const{service:n=ii,region:r=si}={},{hostname:o}=e,[,i,s]=ai.exec(o)??[];return i===ii?{service:i,region:s??r}:"appsync-api"===i?{service:"appsync",region:s??r}:{service:n,region:r}})(o),t=r?.service??e.service,n=r?.region??e.region;y=await ui(p,{...f,credentials:m,region:n,service:t})}else y=await li(p,{...f});return{statusCode:y.statusCode,headers:y.headers,body:y.body}})(e,{url:t,method:"POST",...n,abortSignal:o.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},oi,n?.signingServiceInfo)),o),s=i.finally((()=>{pi.delete(s)}));return s},gi=e=>{const t=e.libraryOptions?.API?.GraphQL?.headers,n=e.libraryOptions?.API?.GraphQL?.withCredentials;return{headers:t,withCredentials:n}};class yi extends T{constructor(e){super(e),this.constructor=yi,Object.setPrototypeOf(this,yi.prototype)}}var mi;!function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"}(mi||(mi={})),Symbol("amplify"),Symbol("authMode"),Symbol("authToken"),Symbol("apiKey"),Symbol("headers"),Symbol("endpoint");const bi={name:"NoApiKey",message:mi.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},vi={name:"NoCredentials",message:mi.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},wi={name:"NoValidAuthTokens",message:mi.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},Si={name:"NoSignedUser",message:mi.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},_i={name:"NoAuthorizationHeader",message:mi.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'},Ii="x-amz-user-agent";const Ei=new Set;async function Ci(e,t){const n=Wo();n.authenticationType=Vo(t?.authMode,n.authenticationType),n.apiKey=t?.apiKey||n.apiKey,n.authToken=t?.authToken||n.authToken,await Ho.connect(n);const r=At();let o;return Ei.add(r),{subscribe:(t,i)=>{if(!Ei.has(r))throw new Error("Channel is closed");const s={...n,query:e};return s.authenticationType=Vo(i?.authMode,s.authenticationType),s.apiKey=i?.apiKey||s.apiKey,s.authToken=i?.authToken||s.authToken,o=Ho.subscribe(s).subscribe(t),o},close:async()=>{o&&o.unsubscribe(),Ei.delete(r),setTimeout((()=>{0===Ei.size&&Ho.closeIfNoActiveSubscription()}),1e3)},publish:async(t,o)=>{if(!Ei.has(r))throw new Error("Channel is closed");const i={...n,query:e,variables:t};return i.authenticationType=Vo(o?.authMode,i.authenticationType),i.apiKey=o?.apiKey||i.apiKey,i.authToken=o?.authToken||i.authToken,Ho.publish(i)}}}async function ki(e,t,n){const r=Wo();r.authenticationType=Vo(n?.authMode,r.authenticationType),r.apiKey=n?.apiKey||r.apiKey,r.authToken=n?.authToken||r.authToken;const o="/"===e[0]?e:`/${e}`,i={...r,query:o,variables:qo(t)},s=new AbortController,a=await async function(e,t,n={},r,o){const{region:i,appSyncGraphqlEndpoint:s,authenticationType:a,query:c,variables:u}=t;if(!s)throw new Error("No endpoint");const{withCredentials:l}=gi(e),d=await async function(e,t,n,r){const{apiKey:o,appSyncGraphqlEndpoint:i,authenticationType:s,query:a,variables:c,authToken:u}=t,{headers:l}=gi(e);let d;if("function"==typeof n){const e={method:"POST",url:new an(i).toString(),queryString:a};d=await n(e)}else d=n;u&&(d={...d,Authorization:u});const h=await async function(e,t,n,r={}){let o={};switch(t){case"apiKey":if(!n)throw new yi(bi);o={"X-Api-Key":n};break;case"iam":if(void 0===(await e.Auth.fetchAuthSession()).credentials)throw new yi(vi);break;case"oidc":case"userPool":{let t;try{t=(await e.Auth.fetchAuthSession()).tokens?.accessToken.toString()}catch(e){throw new yi({...Si,underlyingError:e})}if(!t)throw new yi(wi);o={Authorization:t};break}case"lambda":if("object"==typeof r&&!r.Authorization)throw new yi(_i);o={Authorization:r.Authorization}}return o}(e,s,o,d);return{...h,...l&&await l({query:a,variables:c}),...d,[Ii]:tt(r)}}(e,t,n,o),h={channel:c,events:u},p=["apiKey","none"].includes(a)?void 0:{service:"appsync",region:i},{body:f}=await fi(e,{url:new an(s),options:{headers:d,body:h,signingServiceInfo:p,withCredentials:l},abortController:r}),g=await f.json();if(function(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}(g))throw(y=g).errors&&Array.isArray(y.errors)&&y.errors.forEach((e=>{var t;t=e,(t?.originalError?.name?.startsWith("UnauthorizedException")||t.message?.startsWith("Connection failed:")&&t.message?.includes("Permission denied"))&&(e.message="Unauthorized",e.recoverySuggestion="If you're calling an Amplify-generated API, make sure to set the \"authMode\" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')")})),y;var y;return g}(Ce,i,{},s);if(a.failed?.length>0)return a.failed}function Ai(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Oi(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}function Oi(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ti(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ti(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ti(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pi,Ni,Ri="sockr.birdie.so";function Di(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onMessage,n=e.onStatus,r=e.bootstrap,o=e.bootstrapUrl,s=void 0===o?"":o,c=e.fetchInit,l=void 0===c?{credentials:"include"}:c,d=e.ctx,h=void 0===d?{}:d,p=!1,f="disconnected",g=[],y=null,m=null,b=null,v=null,w=null,S=null,_=null,I=null,E=null,C=null,k="",A=new Map;function O(e){return T.apply(this,arguments)}function T(){return T=i(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(s,xi(xi({method:"POST",headers:xi({"Content-Type":"application/json"},l.headers||{})},l),{},{body:JSON.stringify(null!=t?t:{})}));case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("bootstrap failed: ".concat(n.status));case 5:return e.abrupt("return",n.json());case 6:case"end":return e.stop()}}),e)}))),T.apply(this,arguments)}function x(e){return P.apply(this,arguments)}function P(){return P=i(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(r||O)(t));case 1:case"end":return e.stop()}}),e)}))),P.apply(this,arguments)}function N(){return R.apply(this,arguments)}function R(){return R=i(u().mark((function e(){var r,o,s,a,c,l,d,m,b,v,w,S,_,I,E=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=E.length>0&&void 0!==E[0]?E[0]:h,e.prev=1,e.next=4,D(r);case 4:if(o=e.sent,s=o.apiKey,a=o.room,c=o.be,l=o.ce,d=o.secs,m=o.silence,b=o.r1,v=o.ip,w=o.session_id,(c||l)&&!m){e.next=18;break}return null==n||n("silence"),C=null,e.abrupt("return");case 18:return y=s,a&&(S=a.split("/"),k=S.pop(),C=S.join("/")),_=function(){var e=i(u().mark((function e(o,a){var c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a){e.next=2;break}return e.abrupt("return");case 2:if(!A.has(o)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,Ci(a,{authMode:"apiKey",apiKey:s});case 6:(c=e.sent).subscribe({next:function(e){g.push(xi(xi({},e),{},{__channel:a,__label:o})),null==t||t(e)},error:function(){var e=i(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!F(t)){e.next=14;break}return e.prev=1,e.next=4,G();case 4:return e.next=6,D(r,!0);case 6:return e.next=8,N(r);case 8:return e.abrupt("return");case 11:e.prev=11,e.t0=e.catch(1),console.error("events subscribe error",t);case 14:f="error",null==n||n(t);case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}()}),A.set(o,c);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),e.next=23,_("room",C);case 23:return e.next=25,_("personal",C+"/"+k);case 25:f="connected",p=!0,I={ce:l,be:c,silence:m,room:a,secs:d,r1:b,ip:v,session_id:w},null==n||n(f,I),e.next=35;break;case 31:throw e.prev=31,e.t0=e.catch(1),null==n||n(e.t0),e.t0;case 35:case"end":return e.stop()}}),e,null,[[1,31]])}))),R.apply(this,arguments)}function D(){return L.apply(this,arguments)}function L(){return L=i(u().mark((function e(){var t,n,r,o,i,s,a,c,l,d,p,f,g=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=g.length>0&&void 0!==g[0]?g[0]:h,!(g.length>1&&void 0!==g[1]&&g[1])&&y){e.next=25;break}return e.next=5,x(t);case 5:n=e.sent,r=n.apiKey,o=n.room,i=n.be,s=n.ce,a=n.secs,c=n.silence,l=n.r1,d=n.ip,p=n.session_id,y=r,m=o,b=i,v=s,w=a,S=c,_=l,I=d,E=p,o?(f=o.split("/"),k=f.pop(),C=f.join("/")):C=null;case 25:return e.abrupt("return",{apiKey:y,room:m,be:b,ce:v,secs:w,silence:S,r1:_,ip:I,session_id:E});case 26:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function M(e){return U.apply(this,arguments)}function U(){return U=i(u().mark((function e(t){var n,r,o,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:h,p&&C){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,D(n);case 5:return r=e.sent,o=r.apiKey,e.next=9,ki(C,xi(xi({},t),{},{sender:k}),{authMode:"apiKey",apiKey:o});case 9:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function j(e,t){return K.apply(this,arguments)}function K(){return K=i(u().mark((function e(t,n){var r,o,i,s=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:h,p&&C){e.next=3;break}return e.abrupt("return");case 3:if(n){e.next=5;break}throw new Error("No personal channel configured");case 5:return e.next=7,D(r);case 7:return o=e.sent,i=o.apiKey,e.next=11,ki(C+"/"+n,xi(xi({},t),{},{sender:k}),{authMode:"apiKey",apiKey:i});case 11:case"end":return e.stop()}}),e)}))),K.apply(this,arguments)}function $(){return $=i(u().mark((function e(t){var n,r,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=o.length>1&&void 0!==o[1]?o[1]:"room",r=o.length>2&&void 0!==o[2]?o[2]:h,p){e.next=4;break}return e.abrupt("return");case 4:if(t.sender=k,"room"!==n){e.next=9;break}return e.abrupt("return",M(t,r));case 9:return e.abrupt("return",j(t,n,r));case 10:case"end":return e.stop()}}),e)}))),$.apply(this,arguments)}function G(){return B.apply(this,arguments)}function B(){return(B=i(u().mark((function e(){var t,r,o,i,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=Ai(A),e.prev=1,t.s();case 3:if((r=t.n()).done){e.next=14;break}return o=a(r.value,2),i=o[1],e.prev=5,e.next=8,null==i||null===(s=i.close)||void 0===s?void 0:s.call(i);case 8:e.next=12;break;case 10:e.prev=10,e.t0=e.catch(5);case 12:e.next=3;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(1),t.e(e.t1);case 19:return e.prev=19,t.f(),e.finish(19);case 22:A.clear(),p=!1,f="disconnected",null==n||n(f);case 26:case"end":return e.stop()}}),e,null,[[1,16,19,22],[5,10]])})))).apply(this,arguments)}function F(e){var t=((null==e?void 0:e.message)||"").toLowerCase();return t.includes("unauthorized")||t.includes("forbidden")||t.includes("401")||t.includes("403")}return{connected:p,status:f,messages:g,connect:N,publish:function(e){return $.apply(this,arguments)},disconnect:G}}function Li(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Bn.configure({API:{Events:{endpoint:"https://".concat(Ri,"/event"),realtimeEndpoint:"wss://".concat(Ri,"/event/realtime"),region:"us-east-2",defaultAuthMode:"apiKey"}}});var Mi=n(503),Ui=void 0,ji=!0,Ki=!1,$i="https://app.birdie.so",Gi="https://cdn.birdie.so",Bi=Gi.startsWith("https://birdie.eu.ngrok.io")?"/":"/widget/embed/",Fi=0,Vi=0,Wi=0,qi=0,zi=!0,Hi=!1,Ji=null,Xi=new URLSearchParams(window.location.search).get("birdie_snippet_test"),Qi="";sessionStorage.getItem("zestSession")?Qi=sessionStorage.getItem("zestSession"):(Qi=([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)})),sessionStorage.setItem("zestSession",Qi)),window.__birdie_pristine_natives||(window.__birdie_pristine_natives={fetch:window.fetch,xhr:{open:XMLHttpRequest.prototype.open,send:XMLHttpRequest.prototype.send,setRequestHeader:XMLHttpRequest.prototype.setRequestHeader},console:{log:console.log,info:console.info,warn:console.warn,error:console.error,debug:console.debug},history:{pushState:history.pushState,replaceState:history.replaceState},tabId:Qi},Object.freeze(window.__birdie_pristine_natives));var Yi=document.currentScript,Zi=function(){if(Yi&&Yi.src){var e,t=Yi.src,n={},r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return Li(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Li(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(a)throw i}}}}(new URLSearchParams(t.split("?")[1]).entries());try{for(r.s();!(e=r.n()).done;){var o=a(e.value,2),i=o[0],s=o[1];n[i]=s}}catch(e){r.e(e)}finally{r.f()}return n}return{}}(),es=null!==(Pi=Zi.slug)&&void 0!==Pi?Pi:"",ts=null!==(Ni=Zi.wk)&&void 0!==Ni?Ni:"";"e4bf56a2"==es&&"/widget/embed/"==Bi&&(Bi="/widget/embed_birdie/");var ns=g({enableWebgl:!1,debug:!1,enableScreen:!1}),rs=(new Date).getTimezoneOffset(),os=Intl.DateTimeFormat().resolvedOptions().timeZone,is={description:Mi.description,name:"",mobile:window.matchMedia("(pointer:coarse)").matches,os:{family:Mi.os.family},timezone:os,timezoneOffset:rs,language:window.navigator.language,tabTitle:document.title,has_focus:document.hasFocus(),is_visible:"hidden"!=document.visibilityState,tabUrl:JSON.parse(JSON.stringify(window.location)),width:window.innerWidth,height:window.innerHeight,vpn_detected:!1,session_id:""};function ss(){return window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")+window.location.pathname}var as=document.createElement("link");as.href="https://cdn.birdie.so/widget/embed/css/main2.css",as.rel="stylesheet",document.head.append(as);var cs,us=!1,ls=!1,ds=null,hs=!1,ps="",fs=function(){var e={};return window.intercomSettings?(window.intercomSettings.name&&(e.name=window.intercomSettings.name),window.intercomSettings.email&&!e.email&&(e.email=window.intercomSettings.email)):window.intercomSettings={},window.birdieSettings||(window.zestSettings?window.birdieSettings=window.zestSettings:window.birdieSettings={contact:{}}),window.birdieSettings&&(window.birdieSettings.contact_id&&(e.id=window.birdieSettings.contact_id),window.birdieSettings.contact_name&&(e.name=window.birdieSettings.contact_name),window.birdieSettings.contact_email&&(e.email=window.birdieSettings.contact_email),window.birdieSettings.contact_phone&&(e.phone=window.birdieSettings.contact_phone)),e}();(cs=fs)&&0===Object.keys(cs).length&&Object.getPrototypeOf(cs)===Object.prototype||(is.contact=fs);var gs,ys=(gs={},window.birdieSettings||(window.zestSettings?window.birdieSettings=window.zestSettings:window.birdieSettings={metadata:{}}),window.birdieSettings&&window.birdieSettings.metadata&&"object"===(0,r.A)(window.birdieSettings.metadata)&&(gs=window.birdieSettings.metadata),gs),ms=null,bs=null,vs=void 0,ws=!1,Ss=null;function _s(){return _s=i(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==document.getElementById("birdie-remote")&&window!==window.parent&&window.parent)try{is_child_frame=void 0!==window.parent.birdieSettings||void 0!==window.parent.zestSettings}catch(e){is_child_frame=!0}return t=Di({bootstrapUrl:$i+"/wsauth/"+es,ctx:{app_id:es,fingerprint:ns,tab_id:Qi},fetchInit:{credentials:"include"},onMessage:function(e){Us(e)},onStatus:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"connected"==e&&t?(Ss=r,Is({data:t})):"silence"==e&&(Ss=null,Is({data:{silence:!0}}))}}),n=t.connect,r=t.publish,e.next=5,n();case 5:case"end":return e.stop()}}),e)}))),_s.apply(this,arguments)}function Is(e){if(!0===e.data.silence)return console.log("[Birdie] is disabled"),void(Xi&&alert("Birdie test: snippet is successfully installed, but is disabled in your Birdie account."));Xi&&alert("Birdie test: snippet is successfully installed."),function(){return Bs.apply(this,arguments)}().then((function(t){Ji=t,ms=e.data.r1,ls=e.data.ce,us=e.data.be,ps=e.data.secs,e.data.ip,ds=e.data.session_id,ji&&((ls||us)&&(window.addEventListener("blur",Os),window.addEventListener("focus",Ts),document.addEventListener("visibilitychange",Ps),document.addEventListener("securitypolicyviolation",(function(e){if(e.blockedURI&&e.blockedURI.includes(".birdie.so"))switch(console.error("[Birdie] CSP Violation detected for domain:",e.blockedURI),console.info("[Birdie] Violated Directive:",e.violatedDirective),console.info("[Birdie] Original Policy:",e.originalPolicy),window.birdie.emit("error",{message:"securitypolicyviolation",blockedURI:e.blockedURI,violatedDirective:e.violatedDirective,originalPolicy:e.originalPolicy}),e.violatedDirective){case"script-src":console.warn("[Birdie] A script from",e.blockedURI,"was blocked. Consider updating the script-src directive.");break;case"style-src":console.warn("[Birdie] A style from",e.blockedURI,"was blocked. Consider updating the style-src directive.");break;case"img-src":console.warn("[Birdie] An image from",e.blockedURI,"was blocked. Consider updating the img-src directive.");break;default:console.warn("[Birdie] Resource from",e.blockedURI,"was blocked due to CSP policy.")}}))),us&&I.initialize(us,ps),Ss&&Ss({event:"connected",event_value:"connected"},"recorder"),As({action:"set_data",params:{session_id:ds,tab_id:Qi,team_id:ms}}),ji=!1)}))}function Es(){return Cs.apply(this,arguments)}function Cs(){return(Cs=i(u().mark((function e(){var t,n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Gi+Bi+ts,e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.text();case 7:r=e.sent,ks(new Blob([r],{type:"application/javascript"})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("[Birdie] Error creating web worker:",e.t0),window.birdie.emit("error",{message:"Error creating web worker "+e.t0});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function ks(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;ws||(void 0!==e?(ws=!0,(vs=void 0===e?new Worker(new URL(n.p+n.u(883),n.b),{type:void 0}):new Worker(URL.createObjectURL(e))).addEventListener("message",(function(e){var t=e.data;if(t.action){if("worker_registered"==t.action)return void function(){_s.apply(this,arguments)}();if("axios"==t.action&&t.error)return console.error("[Birdie] Error connecting to backend: "+t.error),void window.birdie.emit("error",{message:"Error connecting to backend: "+t.error})}}),!1)):Es())}function As(e){vs?vs.postMessage(e):xs()}function Os(){ls&&Ui&&Ui.event_blur(),Ns()}function Ts(){ls&&Ui&&Ui.event_focus(),Ns()}function xs(){void 0===vs&&ws&&(ws=!1,Es())}function Ps(){if(xs(),"hidden"==document.visibilityState){if(Os(),Ki)return}else if(Ki)return;Ns()}function Ns(){var e="hidden"!=document.visibilityState,t=document.hasFocus();is.has_focus!=t&&(is.has_focus=t,Gs("focus")),is.is_visible!=e&&(is.is_visible=e,Gs("focus"))}ks();var Rs=null,Ds=null,Ls=Date.now();function Ms(e){"disconnected"!=e&&"function"==typeof Ss&&(Ls=Date.now(),clearTimeout(Ds),Ds=setTimeout((function(){Date.now()-Ls>=1e4&&!document.hidden?(clearTimeout(Ds),clearTimeout(Rs),Us({event:{event:"disconnected",event_value:!0,sender:"recorder"}},!0)):Ms("poke")}),1e4),clearTimeout(Rs),Rs=setTimeout((function(){clearTimeout(Rs),Ss({event:"ping",event_value:!0},"recorder")}),5e3))}function Us(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r={message:e.event,sender:e.event.sender};if("recorder"==r.sender){var o=r.message.event;if(Ms(o),"pong"!=o){if(bs=ds,is.session_id=bs,t||Gs("browser_data"),Ui&&Ui.setSessionId(bs),"disconnected"==o||"pause-recording"==o)return"pause-recording"==o&&((Hi=!0)&&(Ui&&Ui.pause(),Vi=Date.now(),setTimeout((function(){As({action:"pause_logs"})}),1e3)),window.birdie.emit("pause",{timestamp:Date.now(),session_id:bs})),void("disconnected"==o&&(I.is_secured()&&I.zest_secure_ui(!1),Hi=!1,Ui&&(Ui.stop(),As({action:"stop_logs"})),clearTimeout(Ds),clearTimeout(Rs),window.birdie.emit("recorderClose",{timestamp:Date.now()})));if("opened"!=o){var i,s,a,c;if("sharingLink"!=o)return"resume-recording"==o?(window.birdie.emit("resume",{timestamp:Date.now(),session_id:bs}),Hi=!0,void function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(Hi){var t=Date.now()-Vi;Fi+=t,e&&e.message&&e.message.event_value&&Wi-Vi<1e3&&(Fi=e.message.event_value),Vi=0,As({action:"resume_logs"}),Ui&&Ui.resume(t)}}(r)):us&&"client-blur"==o?(window.birdie.emit("blur",{timestamp:Date.now(),session_id:bs,enabled:null!==(i=r.message.event_value)&&void 0!==i&&i}),void I.zest_secure_ui(null!==(s=r.message.event_value)&&void 0!==s&&s)):ls&&"client-recording"==o?void 0===Ui?void n.e(352).then(n.bind(n,216)).then((function(t){var n="".concat(Gi).concat(Bi).concat(Ji["birdie_logger.js"]);Ui=new t.default(Qi,js,bs,ms,hs,zi,n),Us(e,!0)})):("start"==r.message.event_value&&(r.message.start_timestamp&&(qi=r.message.start_timestamp),a=$i+"/wsauth/"+ms+"/fresh",c={browser_data:is,tab_id:Qi,team_id:ms,session_id:ds,type:"snippet",fingerprint:ns,metadata:ys},qi&&(c.recorder_start_timestamp=qi),As({action:"axios",actionId:"sync_browserdata_to_backend",endpoint:a,params:c})),"start"==r.message.event_value?(window.birdie.emit("start",{timestamp:Date.now(),session_id:bs}),Hi=!0,Fi=0,Vi=0,Wi=Date.now(),zi||(Vi=Date.now())):"stop"==r.message.event_value?(window.birdie.emit("stop",{timestamp:Date.now(),session_id:bs}),Hi=!1):"restart"==r.message.event_value&&(window.birdie.emit("restart",{timestamp:Date.now(),session_id:bs}),Fi=0,Vi=0),void(Ui&&("start"!=r.message.event_value||Ui.sending_enabled()?"stop"==r.message.event_value&&Ui.sending_enabled()?(Ui.stop(),As({action:"stop_logs"}),window.birdie.emit("captureStopped",{timestamp:Date.now(),session_id:bs})):"restart"!=r.message.event_value||Ui.sending_enabled()||(Fi=0):(Fi=0,Vi=0,Wi=Date.now(),As({action:"start_logs"}),Ui.start(),window.birdie.emit("captureStarted",{timestamp:Date.now(),session_id:bs}))))):void 0;window.birdie.emit("recordingSent",{timestamp:Date.now(),link:r.message.event_value})}else window.birdie.emit("recorderOpen",{timestamp:Date.now()})}}}function js(e){e.session_id=bs,e.recorder_start_timestamp=qi,e.team_id=ms,e.has_focus=is.has_focus,e.is_visible=is.is_visible,e.is_v2=!0,e.data&&(e.data.has_focus=is.has_focus),Fi>0&&(e.timestamp?e.timestamp-=Fi:e.data&&e.data.timestamp&&(e.data.timestamp-=Fi)),As({action:"save_logs",params:e})}var Ks=null,$s=null;function Gs(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(("focus"!=e&&"visible"!=e||Ks)&&null!=$s){var t={};if("connectionId2"==e)t.connectionId=$s;else if("contact"==e){var n,r,o,i,s,a,c,u,l;t={contact_name:null!==(n=null===(r=is.contact)||void 0===r?void 0:r.name)&&void 0!==n?n:null,contact_email:null!==(o=null===(i=is.contact)||void 0===i?void 0:i.email)&&void 0!==o?o:null,contact_phone:null!==(s=null===(a=is.contact)||void 0===a?void 0:a.phone)&&void 0!==s?s:null,contact_id:null!==(c=null===(u=is.contact)||void 0===u?void 0:u.id)&&void 0!==c?c:null,tabUrl:ss(null===(l=is.tabUrl)||void 0===l||l.href),tabTitle:is.tabTitle,has_focus:is.has_focus}}else if("browser_data"==e)t={browser_data:is};else if("metadata"==e)t={metadata:ys};else if("title"==e)t={tabTitle:is.tabTitle};else if("location"==e){var d;t={tabUrl:ss(null===(d=is.tabUrl)||void 0===d||d.href)}}else if("focus"==e)t={has_focus:is.has_focus};else if("visible"==e)t={is_visible:is.is_visible};else{if("resize"!=e)return;t={has_focus:is.has_focus}}}}function Bs(){return(Bs=i(u().mark((function e(){var t,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(Gi).concat(Bi,"manifest.json"),e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=6;break}throw new Error("Failed to load manifest: ".concat(n.statusText));case 6:return e.abrupt("return",n.json());case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Fs={events:{},on:function(e,t){this.events[e]||(this.events[e]=[]),this.events[e].push(t)},off:function(e,t){this.events[e]&&(this.events[e]=this.events[e].filter((function(e){return e!==t})))},emit:function(e,t){this.events[e]&&this.events[e].forEach((function(e){return e(t)}))}},Vs=!1;Vs||(window.birdie={get settings(){return window.birdieSettings||{}},get contact(){return is.contact},set contact(e){window.birdieSettings||(window.birdieSettings={contact:{}}),window.birdieSettings.contact=e,is.contact=e,Gs("contact")},get metadata(){return ys},set metadata(e){window.birdieSettings||(window.birdieSettings={metadata:{}}),window.birdieSettings.metadata=e,ys=e,Gs("metadata")},on:Fs.on.bind(Fs),off:Fs.off.bind(Fs),emit:Fs.emit.bind(Fs),get captureLogs(){return zi},set captureLogs(e){var t=!!e;t!=zi&&(zi=t,Ui&&Ui.setLoggingEnabled(zi))}},Vs=!0,window.birdieSettings&&window.birdieSettings.onBirdieReady&&"function"==typeof window.birdieSettings.onBirdieReady&&(0,window.birdieSettings.onBirdieReady)())},140:(e,t,n)=>{"use strict";var r=n(918),o=Object.create(null),i="undefined"==typeof document,s=Array.prototype.forEach;function a(){}function c(e,t){if(!t){if(!e.href)return;t=e.href.split("?")[0]}if(l(t)&&!1!==e.isLoaded&&t&&t.indexOf(".css")>-1){e.visited=!0;var n=e.cloneNode();n.isLoaded=!1,n.addEventListener("load",(function(){n.isLoaded||(n.isLoaded=!0,e.parentNode.removeChild(e))})),n.addEventListener("error",(function(){n.isLoaded||(n.isLoaded=!0,e.parentNode.removeChild(e))})),n.href="".concat(t,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n)}}function u(){var e=document.querySelectorAll("link");s.call(e,(function(e){!0!==e.visited&&c(e)}))}function l(e){return!!/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(e)}e.exports=function(e,t){if(i)return console.log("no window.document found, will not HMR CSS"),a;var n,d,h=function(e){var t=o[e];if(!t){if(document.currentScript)t=document.currentScript.src;else{var n=document.getElementsByTagName("script"),i=n[n.length-1];i&&(t=i.src)}o[e]=t}return function(e){if(!t)return null;var n=t.split(/([^\\/]+)\.js$/),o=n&&n[1];return o&&e?e.split(",").map((function(e){var n=new RegExp("".concat(o,"\\.js$"),"g");return r(t.replace(n,"".concat(e.replace(/{fileName}/g,o),".css")))})):[t.replace(".js",".css")]}}(e);return n=function(){var e=h(t.filename),n=function(e){if(!e)return!1;var t=document.querySelectorAll("link"),n=!1;return s.call(t,(function(t){if(t.href){var o=function(e,t){var n;return e=r(e),t.some((function(r){e.indexOf(t)>-1&&(n=r)})),n}(t.href,e);l(o)&&!0!==t.visited&&o&&(c(t,o),n=!0)}})),n}(e);if(t.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void u();n?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),u())},50,d=0,function(){var e=this,t=arguments;clearTimeout(d),d=setTimeout((function(){return n.apply(e,t)}),50)}}},918:e=>{"use strict";e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var t=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",n=e.replace(new RegExp(t,"i"),"").split("/"),r=n[0].toLowerCase().replace(/\.$/,"");return n[0]="",t+r+n.reduce((function(e,t){switch(t){case"..":e.pop();break;case".":break;default:e.push(t)}return e}),[]).join("/")}},211:(e,t,n)=>{"use strict";var r,o;r=void 0,o=n(140)(e.id,{}),e.hot.data&&e.hot.data.value&&e.hot.data.value!==r?e.hot.invalidate():e.hot.accept(),e.hot.dispose((function(e){e.value=r,o()}))},503:function(e,t,n){var r;e=n.nmd(e),function(){"use strict";var o={function:!0,object:!0},i=o[typeof window]&&window||this,s=o[typeof t]&&t,a=o.object&&e&&!e.nodeType&&e,c=s&&a&&"object"==typeof n.g&&n.g;!c||c.global!==c&&c.window!==c&&c.self!==c||(i=c);var u=Math.pow(2,53)-1,l=/\bOpera/,d=Object.prototype,h=d.hasOwnProperty,p=d.toString;function f(e){return(e=String(e)).charAt(0).toUpperCase()+e.slice(1)}function g(e){return e=w(e),/^(?:webOS|i(?:OS|P))/.test(e)?e:f(e)}function y(e,t){for(var n in e)h.call(e,n)&&t(e[n],n,e)}function m(e){return null==e?f(e):p.call(e).slice(8,-1)}function b(e){return String(e).replace(/([ -])(?!$)/g,"$1?")}function v(e,t){var n=null;return function(e,t){var n=-1,r=e?e.length:0;if("number"==typeof r&&r>-1&&r<=u)for(;++n<r;)t(e[n],n);else y(e,t)}(e,(function(r,o){n=t(n,r,o,e)})),n}function w(e){return String(e).replace(/^ +| +$/g,"")}var S=function e(t){var n=i,r=t&&"object"==typeof t&&"String"!=m(t);r&&(n=t,t=null);var o=n.navigator||{},s=o.userAgent||"";t||(t=s);var a,c,u,d,h,f=r?!!o.likeChrome:/\bChrome\b/.test(t)&&!/internal|\n/i.test(p.toString()),S="Object",_=r?S:"ScriptBridgingProxyObject",I=r?S:"Environment",E=r&&n.java?"JavaPackage":m(n.java),C=r?S:"RuntimeObject",k=/\bJava/.test(E)&&n.java,A=k&&m(n.environment)==I,O=k?"a":"",T=k?"b":"",x=n.document||{},P=n.operamini||n.opera,N=l.test(N=r&&P?P["[[Class]]"]:m(P))?N:P=null,R=t,D=[],L=null,M=t==s,U=M&&P&&"function"==typeof P.version&&P.version(),j=v([{label:"EdgeHTML",pattern:"Edge"},"Trident",{label:"WebKit",pattern:"AppleWebKit"},"iCab","Presto","NetFront","Tasman","KHTML","Gecko"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),K=v(["Adobe AIR","Arora","Avant Browser","Breach","Camino","Electron","Epiphany","Fennec","Flock","Galeon","GreenBrowser","iCab","Iceweasel","K-Meleon","Konqueror","Lunascape","Maxthon",{label:"Microsoft Edge",pattern:"(?:Edge|Edg|EdgA|EdgiOS)"},"Midori","Nook Browser","PaleMoon","PhantomJS","Raven","Rekonq","RockMelt",{label:"Samsung Internet",pattern:"SamsungBrowser"},"SeaMonkey",{label:"Silk",pattern:"(?:Cloud9|Silk-Accelerated)"},"Sleipnir","SlimBrowser",{label:"SRWare Iron",pattern:"Iron"},"Sunrise","Swiftfox","Vivaldi","Waterfox","WebPositive",{label:"Yandex Browser",pattern:"YaBrowser"},{label:"UC Browser",pattern:"UCBrowser"},"Opera Mini",{label:"Opera Mini",pattern:"OPiOS"},"Opera",{label:"Opera",pattern:"OPR"},"Chromium","Chrome",{label:"Chrome",pattern:"(?:HeadlessChrome)"},{label:"Chrome Mobile",pattern:"(?:CriOS|CrMo)"},{label:"Firefox",pattern:"(?:Firefox|Minefield)"},{label:"Firefox for iOS",pattern:"FxiOS"},{label:"IE",pattern:"IEMobile"},{label:"IE",pattern:"MSIE"},"Safari"],(function(e,n){return e||RegExp("\\b"+(n.pattern||b(n))+"\\b","i").exec(t)&&(n.label||n)})),$=F([{label:"BlackBerry",pattern:"BB10"},"BlackBerry",{label:"Galaxy S",pattern:"GT-I9000"},{label:"Galaxy S2",pattern:"GT-I9100"},{label:"Galaxy S3",pattern:"GT-I9300"},{label:"Galaxy S4",pattern:"GT-I9500"},{label:"Galaxy S5",pattern:"SM-G900"},{label:"Galaxy S6",pattern:"SM-G920"},{label:"Galaxy S6 Edge",pattern:"SM-G925"},{label:"Galaxy S7",pattern:"SM-G930"},{label:"Galaxy S7 Edge",pattern:"SM-G935"},"Google TV","Lumia","iPad","iPod","iPhone","Kindle",{label:"Kindle Fire",pattern:"(?:Cloud9|Silk-Accelerated)"},"Nexus","Nook","PlayBook","PlayStation Vita","PlayStation","TouchPad","Transformer",{label:"Wii U",pattern:"WiiU"},"Wii","Xbox One",{label:"Xbox 360",pattern:"Xbox"},"Xoom"]),G=v({Apple:{iPad:1,iPhone:1,iPod:1},Alcatel:{},Archos:{},Amazon:{Kindle:1,"Kindle Fire":1},Asus:{Transformer:1},"Barnes & Noble":{Nook:1},BlackBerry:{PlayBook:1},Google:{"Google TV":1,Nexus:1},HP:{TouchPad:1},HTC:{},Huawei:{},Lenovo:{},LG:{},Microsoft:{Xbox:1,"Xbox One":1},Motorola:{Xoom:1},Nintendo:{"Wii U":1,Wii:1},Nokia:{Lumia:1},Oppo:{},Samsung:{"Galaxy S":1,"Galaxy S2":1,"Galaxy S3":1,"Galaxy S4":1},Sony:{PlayStation:1,"PlayStation Vita":1},Xiaomi:{Mi:1,Redmi:1}},(function(e,n,r){return e||(n[$]||n[/^[a-z]+(?: +[a-z]+\b)*/i.exec($)]||RegExp("\\b"+b(r)+"(?:\\b|\\w*\\d)","i").exec(t))&&r})),B=v(["Windows Phone","KaiOS","Android","CentOS",{label:"Chrome OS",pattern:"CrOS"},"Debian",{label:"DragonFly BSD",pattern:"DragonFly"},"Fedora","FreeBSD","Gentoo","Haiku","Kubuntu","Linux Mint","OpenBSD","Red Hat","SuSE","Ubuntu","Xubuntu","Cygwin","Symbian OS","hpwOS","webOS ","webOS","Tablet OS","Tizen","Linux","Mac OS X","Macintosh","Mac","Windows 98;","Windows "],(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+"(?:/[\\d.]+|[ \\w.]*)","i").exec(t))&&(e=function(e,t,n){var r={"10.0":"10",6.4:"10 Technical Preview",6.3:"8.1",6.2:"8",6.1:"Server 2008 R2 / 7","6.0":"Server 2008 / Vista",5.2:"Server 2003 / XP 64-bit",5.1:"XP",5.01:"2000 SP1","5.0":"2000","4.0":"NT","4.90":"ME"};return t&&n&&/^Win/i.test(e)&&!/^Windows Phone /i.test(e)&&(r=r[/[\d.]+$/.exec(e)])&&(e="Windows "+r),e=String(e),t&&n&&(e=e.replace(RegExp(t,"i"),n)),g(e.replace(/ ce$/i," CE").replace(/\bhpw/i,"web").replace(/\bMacintosh\b/,"Mac OS").replace(/_PowerPC\b/i," OS").replace(/\b(OS X) [^ \d]+/i,"$1").replace(/\bMac (OS X)\b/,"$1").replace(/\/(\d)/," $1").replace(/_/g,".").replace(/(?: BePC|[ .]*fc[ \d.]+)$/i,"").replace(/\bx86\.64\b/gi,"x86_64").replace(/\b(Windows Phone) OS\b/,"$1").replace(/\b(Chrome OS \w+) [\d.]+\b/,"$1").split(" on ")[0])}(e,r,n.label||n)),e}));function F(e){return v(e,(function(e,n){var r=n.pattern||b(n);return!e&&(e=RegExp("\\b"+r+" *\\d+[.\\w_]*","i").exec(t)||RegExp("\\b"+r+" *\\w+-[\\w]*","i").exec(t)||RegExp("\\b"+r+"(?:; *(?:[a-z]+[_-])?[a-z]+\\d+|[^ ();-]*)","i").exec(t))&&((e=String(n.label&&!RegExp(r,"i").test(n.label)?n.label:e).split("/"))[1]&&!/[\d.]+/.test(e[0])&&(e[0]+=" "+e[1]),n=n.label||n,e=g(e[0].replace(RegExp(r,"i"),n).replace(RegExp("; *(?:"+n+"[_-])?","i")," ").replace(RegExp("("+n+")[-_.]?(\\w)","i"),"$1 $2"))),e}))}function V(e){return v(e,(function(e,n){return e||(RegExp(n+"(?:-[\\d.]+/|(?: for [\\w-]+)?[ /-])([\\d.]+[^ ();/_-]*)","i").exec(t)||0)[1]||null}))}if(j&&(j=[j]),/\bAndroid\b/.test(B)&&!$&&(a=/\bAndroid[^;]*;(.*?)(?:Build|\) AppleWebKit)\b/i.exec(t))&&($=w(a[1]).replace(/^[a-z]{2}-[a-z]{2};\s*/i,"")||null),G&&!$?$=F([G]):G&&$&&($=$.replace(RegExp("^("+b(G)+")[-_.\\s]","i"),G+" ").replace(RegExp("^("+b(G)+")[-_.]?(\\w)","i"),G+" $2")),(a=/\bGoogle TV\b/.exec($))&&($=a[0]),/\bSimulator\b/i.test(t)&&($=($?$+" ":"")+"Simulator"),"Opera Mini"==K&&/\bOPiOS\b/.test(t)&&D.push("running in Turbo/Uncompressed mode"),"IE"==K&&/\blike iPhone OS\b/.test(t)?(G=(a=e(t.replace(/like iPhone OS/,""))).manufacturer,$=a.product):/^iP/.test($)?(K||(K="Safari"),B="iOS"+((a=/ OS ([\d_]+)/i.exec(t))?" "+a[1].replace(/_/g,"."):"")):"Konqueror"==K&&/^Linux\b/i.test(B)?B="Kubuntu":G&&"Google"!=G&&(/Chrome/.test(K)&&!/\bMobile Safari\b/i.test(t)||/\bVita\b/.test($))||/\bAndroid\b/.test(B)&&/^Chrome/.test(K)&&/\bVersion\//i.test(t)?(K="Android Browser",B=/\bAndroid\b/.test(B)?B:"Android"):"Silk"==K?(/\bMobi/i.test(t)||(B="Android",D.unshift("desktop mode")),/Accelerated *= *true/i.test(t)&&D.unshift("accelerated")):"UC Browser"==K&&/\bUCWEB\b/.test(t)?D.push("speed mode"):"PaleMoon"==K&&(a=/\bFirefox\/([\d.]+)\b/.exec(t))?D.push("identifying as Firefox "+a[1]):"Firefox"==K&&(a=/\b(Mobile|Tablet|TV)\b/i.exec(t))?(B||(B="Firefox OS"),$||($=a[1])):!K||(a=!/\bMinefield\b/i.test(t)&&/\b(?:Firefox|Safari)\b/.exec(K))?(K&&!$&&/[\/,]|^[^(]+?\)/.test(t.slice(t.indexOf(a+"/")+8))&&(K=null),(a=$||G||B)&&($||G||/\b(?:Android|Symbian OS|Tablet OS|webOS)\b/.test(B))&&(K=/[a-z]+(?: Hat)?/i.exec(/\bAndroid\b/.test(B)?B:a)+" Browser")):"Electron"==K&&(a=(/\bChrome\/([\d.]+)\b/.exec(t)||0)[1])&&D.push("Chromium "+a),U||(U=V(["(?:Cloud9|CriOS|CrMo|Edge|Edg|EdgA|EdgiOS|FxiOS|HeadlessChrome|IEMobile|Iron|Opera ?Mini|OPiOS|OPR|Raven|SamsungBrowser|Silk(?!/[\\d.]+$)|UCBrowser|YaBrowser)","Version",b(K),"(?:Firefox|Minefield|NetFront)"])),(a=("iCab"==j&&parseFloat(U)>3?"WebKit":/\bOpera\b/.test(K)&&(/\bOPR\b/.test(t)?"Blink":"Presto"))||/\b(?:Midori|Nook|Safari)\b/i.test(t)&&!/^(?:Trident|EdgeHTML)$/.test(j)&&"WebKit"||!j&&/\bMSIE\b/i.test(t)&&("Mac OS"==B?"Tasman":"Trident")||"WebKit"==j&&/\bPlayStation\b(?! Vita\b)/i.test(K)&&"NetFront")&&(j=[a]),"IE"==K&&(a=(/; *(?:XBLWP|ZuneWP)(\d+)/i.exec(t)||0)[1])?(K+=" Mobile",B="Windows Phone "+(/\+$/.test(a)?a:a+".x"),D.unshift("desktop mode")):/\bWPDesktop\b/i.test(t)?(K="IE Mobile",B="Windows Phone 8.x",D.unshift("desktop mode"),U||(U=(/\brv:([\d.]+)/.exec(t)||0)[1])):"IE"!=K&&"Trident"==j&&(a=/\brv:([\d.]+)/.exec(t))&&(K&&D.push("identifying as "+K+(U?" "+U:"")),K="IE",U=a[1]),M){if(d="global",h=null!=(u=n)?typeof u[d]:"number",/^(?:boolean|number|string|undefined)$/.test(h)||"object"==h&&!u[d])m(a=n.runtime)==_?(K="Adobe AIR",B=a.flash.system.Capabilities.os):m(a=n.phantom)==C?(K="PhantomJS",U=(a=a.version||null)&&a.major+"."+a.minor+"."+a.patch):"number"==typeof x.documentMode&&(a=/\bTrident\/(\d+)/i.exec(t))?(U=[U,x.documentMode],(a=+a[1]+4)!=U[1]&&(D.push("IE "+U[1]+" mode"),j&&(j[1]=""),U[1]=a),U="IE"==K?String(U[1].toFixed(1)):U[0]):"number"==typeof x.documentMode&&/^(?:Chrome|Firefox)\b/.test(K)&&(D.push("masking as "+K+" "+U),K="IE",U="11.0",j=["Trident"],B="Windows");else if(k&&(R=(a=k.lang.System).getProperty("os.arch"),B=B||a.getProperty("os.name")+" "+a.getProperty("os.version")),A){try{U=n.require("ringo/engine").version.join("."),K="RingoJS"}catch(e){(a=n.system)&&a.global.system==n.system&&(K="Narwhal",B||(B=a[0].os||null))}K||(K="Rhino")}else"object"==typeof n.process&&!n.process.browser&&(a=n.process)&&("object"==typeof a.versions&&("string"==typeof a.versions.electron?(D.push("Node "+a.versions.node),K="Electron",U=a.versions.electron):"string"==typeof a.versions.nw&&(D.push("Chromium "+U,"Node "+a.versions.node),K="NW.js",U=a.versions.nw)),K||(K="Node.js",R=a.arch,B=a.platform,U=(U=/[\d.]+/.exec(a.version))?U[0]:null));B=B&&g(B)}if(U&&(a=/(?:[ab]|dp|pre|[ab]\d+pre)(?:\d+\+?)?$/i.exec(U)||/(?:alpha|beta)(?: ?\d)?/i.exec(t+";"+(M&&o.appMinorVersion))||/\bMinefield\b/i.test(t)&&"a")&&(L=/b/i.test(a)?"beta":"alpha",U=U.replace(RegExp(a+"\\+?$"),"")+("beta"==L?T:O)+(/\d+\+?/.exec(a)||"")),"Fennec"==K||"Firefox"==K&&/\b(?:Android|Firefox OS|KaiOS)\b/.test(B))K="Firefox Mobile";else if("Maxthon"==K&&U)U=U.replace(/\.[\d.]+/,".x");else if(/\bXbox\b/i.test($))"Xbox 360"==$&&(B=null),"Xbox 360"==$&&/\bIEMobile\b/.test(t)&&D.unshift("mobile mode");else if(!/^(?:Chrome|IE|Opera)$/.test(K)&&(!K||$||/Browser|Mobi/.test(K))||"Windows CE"!=B&&!/Mobi/i.test(t))if("IE"==K&&M)try{null===n.external&&D.unshift("platform preview")}catch(e){D.unshift("embedded")}else(/\bBlackBerry\b/.test($)||/\bBB10\b/.test(t))&&(a=(RegExp($.replace(/ +/g," *")+"/([.\\d]+)","i").exec(t)||0)[1]||U)?(B=((a=[a,/BB10/.test(t)])[1]?($=null,G="BlackBerry"):"Device Software")+" "+a[0],U=null):this!=y&&"Wii"!=$&&(M&&P||/Opera/.test(K)&&/\b(?:MSIE|Firefox)\b/i.test(t)||"Firefox"==K&&/\bOS X (?:\d+\.){2,}/.test(B)||"IE"==K&&(B&&!/^Win/.test(B)&&U>5.5||/\bWindows XP\b/.test(B)&&U>8||8==U&&!/\bTrident\b/.test(t)))&&!l.test(a=e.call(y,t.replace(l,"")+";"))&&a.name&&(a="ing as "+a.name+((a=a.version)?" "+a:""),l.test(K)?(/\bIE\b/.test(a)&&"Mac OS"==B&&(B=null),a="identify"+a):(a="mask"+a,K=N?g(N.replace(/([a-z])([A-Z])/g,"$1 $2")):"Opera",/\bIE\b/.test(a)&&(B=null),M||(U=null)),j=["Presto"],D.push(a));else K+=" Mobile";(a=(/\bAppleWebKit\/([\d.]+\+?)/i.exec(t)||0)[1])&&(a=[parseFloat(a.replace(/\.(\d)$/,".0$1")),a],"Safari"==K&&"+"==a[1].slice(-1)?(K="WebKit Nightly",L="alpha",U=a[1].slice(0,-1)):U!=a[1]&&U!=(a[2]=(/\bSafari\/([\d.]+\+?)/i.exec(t)||0)[1])||(U=null),a[1]=(/\b(?:Headless)?Chrome\/([\d.]+)/i.exec(t)||0)[1],537.36==a[0]&&537.36==a[2]&&parseFloat(a[1])>=28&&"WebKit"==j&&(j=["Blink"]),M&&(f||a[1])?(j&&(j[1]="like Chrome"),a=a[1]||((a=a[0])<530?1:a<532?2:a<532.05?3:a<533?4:a<534.03?5:a<534.07?6:a<534.1?7:a<534.13?8:a<534.16?9:a<534.24?10:a<534.3?11:a<535.01?12:a<535.02?"13+":a<535.07?15:a<535.11?16:a<535.19?17:a<536.05?18:a<536.1?19:a<537.01?20:a<537.11?"21+":a<537.13?23:a<537.18?24:a<537.24?25:a<537.36?26:"Blink"!=j?"27":"28")):(j&&(j[1]="like Safari"),a=(a=a[0])<400?1:a<500?2:a<526?3:a<533?4:a<534?"4+":a<535?5:a<537?6:a<538?7:a<601?8:a<602?9:a<604?10:a<606?11:a<608?12:"12"),j&&(j[1]+=" "+(a+="number"==typeof a?".x":/[.+]/.test(a)?"":"+")),"Safari"==K&&(!U||parseInt(U)>45)?U=a:"Chrome"==K&&/\bHeadlessChrome/i.test(t)&&D.unshift("headless")),"Opera"==K&&(a=/\bzbov|zvav$/.exec(B))?(K+=" ",D.unshift("desktop mode"),"zvav"==a?(K+="Mini",U=null):K+="Mobile",B=B.replace(RegExp(" *"+a+"$"),"")):"Safari"==K&&/\bChrome\b/.exec(j&&j[1])?(D.unshift("desktop mode"),K="Chrome Mobile",U=null,/\bOS X\b/.test(B)?(G="Apple",B="iOS 4.3+"):B=null):/\bSRWare Iron\b/.test(K)&&!U&&(U=V("Chrome")),U&&0==U.indexOf(a=/[\d.]+$/.exec(B))&&t.indexOf("/"+a+"-")>-1&&(B=w(B.replace(a,""))),B&&-1!=B.indexOf(K)&&!RegExp(K+" OS").test(B)&&(B=B.replace(RegExp(" *"+b(K)+" *"),"")),j&&!/\b(?:Avant|Nook)\b/.test(K)&&(/Browser|Lunascape|Maxthon/.test(K)||"Safari"!=K&&/^iOS/.test(B)&&/\bSafari\b/.test(j[1])||/^(?:Adobe|Arora|Breach|Midori|Opera|Phantom|Rekonq|Rock|Samsung Internet|Sleipnir|SRWare Iron|Vivaldi|Web)/.test(K)&&j[1])&&(a=j[j.length-1])&&D.push(a),D.length&&(D=["("+D.join("; ")+")"]),G&&$&&$.indexOf(G)<0&&D.push("on "+G),$&&D.push((/^on /.test(D[D.length-1])?"":"on ")+$),B&&(a=/ ([\d.+]+)$/.exec(B),c=a&&"/"==B.charAt(B.length-a[0].length-1),B={architecture:32,family:a&&!c?B.replace(a[0],""):B,version:a?a[1]:null,toString:function(){var e=this.version;return this.family+(e&&!c?" "+e:"")+(64==this.architecture?" 64-bit":"")}}),(a=/\b(?:AMD|IA|Win|WOW|x86_|x)64\b/i.exec(R))&&!/\bi686\b/i.test(R)?(B&&(B.architecture=64,B.family=B.family.replace(RegExp(" *"+a),"")),K&&(/\bWOW64\b/i.test(t)||M&&/\w(?:86|32)$/.test(o.cpuClass||o.platform)&&!/\bWin64; x64\b/i.test(t))&&D.unshift("32-bit")):B&&/^OS X/.test(B.family)&&"Chrome"==K&&parseFloat(U)>=39&&(B.architecture=64),t||(t=null);var W={};return W.description=t,W.layout=j&&j[0],W.manufacturer=G,W.name=K,W.prerelease=L,W.product=$,W.ua=t,W.version=K&&U,W.os=B||{architecture:null,family:null,version:null,toString:function(){return"null"}},W.parse=e,W.toString=function(){return this.description||""},W.version&&D.unshift(U),W.name&&D.unshift(K),B&&K&&(B!=String(B).split(" ")[0]||B!=K.split(" ")[0]&&!$)&&D.push($?"("+B+")":"on "+B),D.length&&(W.description=D.join(" ")),W}();i.platform=S,void 0===(r=function(){return S}.call(t,n,t,e))||(e.exports=r)}.call(this)},633:(e,t,n)=>{var r=n(738).default;function o(){"use strict";e.exports=o=function(){return n},e.exports.__esModule=!0,e.exports.default=e.exports;var t,n={},i=Object.prototype,s=i.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},c="function"==typeof Symbol?Symbol:{},u=c.iterator||"@@iterator",l=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(t){h=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var o=t&&t.prototype instanceof w?t:w,i=Object.create(o.prototype),s=new R(r||[]);return a(i,"_invoke",{value:T(e,n,s)}),i}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=p;var g="suspendedStart",y="suspendedYield",m="executing",b="completed",v={};function w(){}function S(){}function _(){}var I={};h(I,u,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(D([])));C&&C!==i&&s.call(C,u)&&(I=C);var k=_.prototype=w.prototype=Object.create(I);function A(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,c){var u=f(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==r(d)&&s.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,o){n(e,r,t,o)}))}return o=o?o.then(i,i):i()}})}function T(e,n,r){var o=g;return function(i,s){if(o===m)throw Error("Generator is already running");if(o===b){if("throw"===i)throw s;return{value:t,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=x(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===g)throw o=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var u=f(e,n,r);if("normal"===u.type){if(o=r.done?b:y,u.arg===v)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=b,r.method="throw",r.arg=u.arg)}}}function x(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,x(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=f(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var s=i.arg;return s?s.done?(n[e.resultName]=s.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function D(e){if(e||""===e){var n=e[u];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(s.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(r(e)+" is not iterable")}return S.prototype=_,a(k,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:S,configurable:!0}),S.displayName=h(_,d,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===S||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,h(e,d,"GeneratorFunction")),e.prototype=Object.create(k),e},n.awrap=function(e){return{__await:e}},A(O.prototype),h(O.prototype,l,(function(){return this})),n.AsyncIterator=O,n.async=function(e,t,r,o,i){void 0===i&&(i=Promise);var s=new O(p(e,t,r,o),i);return n.isGeneratorFunction(t)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},A(k),h(k,d,"Generator"),h(k,u,(function(){return this})),h(k,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=D,R.prototype={constructor:R,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&s.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,o){return a.type="throw",a.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=s.call(i,"catchLoc"),u=s.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&s.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:D(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},n}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},756:(e,t,n)=>{var r=n(633)();e.exports=r;try{regeneratorRuntime=r}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},848:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(816);function o(e,t,n){return(t=(0,r.A)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},816:(e,t,n)=>{"use strict";n.d(t,{A:()=>o});var r=n(284);function o(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!=(0,r.A)(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==(0,r.A)(t)?t:t+""}},284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})}},r={};function o(e){var t=r[e];if(void 0!==t){if(void 0!==t.error)throw t.error;return t.exports}var i=r[e]={id:e,loaded:!1,exports:{}};try{var s={id:e,module:i,factory:n[e],require:o};o.i.forEach((function(e){e(s)})),i=s.module,s.factory.call(i.exports,i,i.exports,s.require)}catch(e){throw i.error=e,e}return i.loaded=!0,i.exports}o.m=n,o.c=r,o.i=[],o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>(352===e?"birdielogger":e)+"."+{352:"8116b070de65f6044e43",883:"2c4042e2e842c2bd814c"}[e]+".js",o.hu=e=>e+"."+o.h()+".hot-update.js",o.miniCssF=e=>{},o.hmrF=()=>"main."+o.h()+".hot-update.json",o.h=()=>"d44eb87510d9985cfffe",o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),e={},t="blur-snippet:",o.l=(n,r,i,s)=>{if(e[n])e[n].push(r);else{var a,c;if(void 0!==i)for(var u=document.getElementsByTagName("script"),l=0;l<u.length;l++){var d=u[l];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,o.nc&&a.setAttribute("nonce",o.nc),a.setAttribute("data-webpack",t+i),a.src=n),e[n]=[r];var h=(t,r)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),c&&document.head.appendChild(a)}},o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e,t,n,r={},i=o.c,s=[],a=[],c="idle",u=0,l=[];function d(e){c=e;for(var t=[],n=0;n<a.length;n++)t[n]=a[n].call(null,e);return Promise.all(t).then((function(){}))}function h(){0==--u&&d("ready").then((function(){if(0===u){var e=l;l=[];for(var t=0;t<e.length;t++)e[t]()}}))}function p(e){if("idle"!==c)throw new Error("check() is only allowed in idle status");return d("check").then(o.hmrM).then((function(n){return n?d("prepare").then((function(){var r=[];return t=[],Promise.all(Object.keys(o.hmrC).reduce((function(e,i){return o.hmrC[i](n.c,n.r,n.m,e,t,r),e}),[])).then((function(){return t=function(){return e?g(e):d("ready").then((function(){return r}))},0===u?t():new Promise((function(e){l.push((function(){e(t())}))}));var t}))})):d(y()?"ready":"idle").then((function(){return null}))}))}function f(e){return"ready"!==c?Promise.resolve().then((function(){throw new Error("apply() is only allowed in ready status (state: "+c+")")})):g(e)}function g(e){e=e||{},y();var r=t.map((function(t){return t(e)}));t=void 0;var o=r.map((function(e){return e.error})).filter(Boolean);if(o.length>0)return d("abort").then((function(){throw o[0]}));var i=d("dispose");r.forEach((function(e){e.dispose&&e.dispose()}));var s,a=d("apply"),c=function(e){s||(s=e)},u=[];return r.forEach((function(e){if(e.apply){var t=e.apply(c);if(t)for(var n=0;n<t.length;n++)u.push(t[n])}})),Promise.all([i,a]).then((function(){return s?d("fail").then((function(){throw s})):n?g(e).then((function(e){return u.forEach((function(t){e.indexOf(t)<0&&e.push(t)})),e})):d("idle").then((function(){return u}))}))}function y(){if(n)return t||(t=[]),Object.keys(o.hmrI).forEach((function(e){n.forEach((function(n){o.hmrI[e](n,t)}))})),n=void 0,!0}o.hmrD=r,o.i.push((function(l){var g,y,m,b,v=l.module,w=function(t,n){var r=i[n];if(!r)return t;var o=function(o){if(r.hot.active){if(i[o]){var a=i[o].parents;-1===a.indexOf(n)&&a.push(n)}else s=[n],e=o;-1===r.children.indexOf(o)&&r.children.push(o)}else console.warn("[HMR] unexpected require("+o+") from disposed module "+n),s=[];return t(o)},a=function(e){return{configurable:!0,enumerable:!0,get:function(){return t[e]},set:function(n){t[e]=n}}};for(var l in t)Object.prototype.hasOwnProperty.call(t,l)&&"e"!==l&&Object.defineProperty(o,l,a(l));return o.e=function(e,n){return function(e){switch(c){case"ready":d("prepare");case"prepare":return u++,e.then(h,h),e;default:return e}}(t.e(e,n))},o}(l.require,l.id);v.hot=(g=l.id,y=v,b={_acceptedDependencies:{},_acceptedErrorHandlers:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:m=e!==g,_requireSelf:function(){s=y.parents.slice(),e=m?void 0:g,o(g)},active:!0,accept:function(e,t,n){if(void 0===e)b._selfAccepted=!0;else if("function"==typeof e)b._selfAccepted=e;else if("object"==typeof e&&null!==e)for(var r=0;r<e.length;r++)b._acceptedDependencies[e[r]]=t||function(){},b._acceptedErrorHandlers[e[r]]=n;else b._acceptedDependencies[e]=t||function(){},b._acceptedErrorHandlers[e]=n},decline:function(e){if(void 0===e)b._selfDeclined=!0;else if("object"==typeof e&&null!==e)for(var t=0;t<e.length;t++)b._declinedDependencies[e[t]]=!0;else b._declinedDependencies[e]=!0},dispose:function(e){b._disposeHandlers.push(e)},addDisposeHandler:function(e){b._disposeHandlers.push(e)},removeDisposeHandler:function(e){var t=b._disposeHandlers.indexOf(e);t>=0&&b._disposeHandlers.splice(t,1)},invalidate:function(){switch(this._selfInvalidated=!0,c){case"idle":t=[],Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](g,t)})),d("ready");break;case"ready":Object.keys(o.hmrI).forEach((function(e){o.hmrI[e](g,t)}));break;case"prepare":case"check":case"dispose":case"apply":(n=n||[]).push(g)}},check:p,apply:f,status:function(e){if(!e)return c;a.push(e)},addStatusHandler:function(e){a.push(e)},removeStatusHandler:function(e){var t=a.indexOf(e);t>=0&&a.splice(t,1)},data:r[g]},e=void 0,b),v.parents=s,v.children=[],s=[],l.require=w})),o.hmrC={},o.hmrI={}})(),(()=>{var e;o.g.importScripts&&(e=o.g.location+"");var t=o.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&(!e||!/^http(s?):/.test(e));)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),o.p=e})(),(()=>{if("undefined"!=typeof document){var e=[],t=[],n=n=>({dispose:()=>{for(var t=0;t<e.length;t++){var n=e[t];n.parentNode&&n.parentNode.removeChild(n)}e.length=0},apply:()=>{for(var e=0;e<t.length;e++)t[e].rel="stylesheet";t.length=0}});o.hmrC.miniCss=(r,i,s,a,c,u)=>{c.push(n),r.forEach((n=>{var r=o.miniCssF(n),i=o.p+r,s=((e,t)=>{for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var o=(s=n[r]).getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(o===e||o===t))return s}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){var s;if((o=(s=i[r]).getAttribute("data-href"))===e||o===t)return s}})(r,i);s&&a.push(new Promise(((r,a)=>{var c=((e,t,n,r,i)=>{var s=document.createElement("link");return s.rel="stylesheet",s.type="text/css",o.nc&&(s.nonce=o.nc),s.onerror=s.onload=n=>{if(s.onerror=s.onload=null,"load"===n.type)r();else{var o=n&&n.type,a=n&&n.target&&n.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+o+": "+a+")");c.name="ChunkLoadError",c.code="CSS_CHUNK_LOAD_FAILED",c.type=o,c.request=a,s.parentNode&&s.parentNode.removeChild(s),i(c)}},s.href=t,n?n.parentNode.insertBefore(s,n.nextSibling):document.head.appendChild(s),s})(n,i,s,(()=>{c.as="style",c.rel="preload",r()}),a);e.push(s),t.push(c)})))}))}}})(),(()=>{o.b=document.baseURI||self.location.href;var e,t=o.hmrS_jsonp=o.hmrS_jsonp||{792:0};o.f.j=(e,n)=>{var r=o.o(t,e)?t[e]:void 0;if(0!==r)if(r)n.push(r[2]);else{var i=new Promise(((n,o)=>r=t[e]=[n,o]));n.push(r[2]=i);var s=o.p+o.u(e),a=new Error;o.l(s,(n=>{if(o.o(t,e)&&(0!==(r=t[e])&&(t[e]=void 0),r)){var i=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,r[1](a)}}),"chunk-"+e,e)}};var n,r,i,s,a={};function c(t,n){return e=n,new Promise(((e,n)=>{a[t]=e;var r=o.p+o.hu(t),i=new Error;o.l(r,(e=>{if(a[t]){a[t]=void 0;var r=e&&("load"===e.type?"missing":e.type),o=e&&e.target&&e.target.src;i.message="Loading hot update chunk "+t+" failed.\n("+r+": "+o+")",i.name="ChunkLoadError",i.type=r,i.request=o,n(i)}}))}))}function u(e){function a(e){for(var t=[e],n={},r=t.map((function(e){return{chain:[e],id:e}}));r.length>0;){var i=r.pop(),s=i.id,a=i.chain,u=o.c[s];if(u&&(!u.hot._selfAccepted||u.hot._selfInvalidated)){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:s};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:s};for(var l=0;l<u.parents.length;l++){var d=u.parents[l],h=o.c[d];if(h){if(h.hot._declinedDependencies[s])return{type:"declined",chain:a.concat([d]),moduleId:s,parentId:d};-1===t.indexOf(d)&&(h.hot._acceptedDependencies[s]?(n[d]||(n[d]=[]),c(n[d],[s])):(delete n[d],t.push(d),r.push({chain:a.concat([d]),id:d})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}o.f&&delete o.f.jsonpHmr,n=void 0;var u={},l=[],d={},h=function(e){console.warn("[HMR] unexpected require("+e.id+") to disposed module")};for(var p in r)if(o.o(r,p)){var f,g=r[p],y=!1,m=!1,b=!1,v="";switch((f=g?a(p):{type:"disposed",moduleId:p}).chain&&(v="\nUpdate propagation: "+f.chain.join(" -> ")),f.type){case"self-declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(y=new Error("Aborted because of self decline: "+f.moduleId+v));break;case"declined":e.onDeclined&&e.onDeclined(f),e.ignoreDeclined||(y=new Error("Aborted because of declined dependency: "+f.moduleId+" in "+f.parentId+v));break;case"unaccepted":e.onUnaccepted&&e.onUnaccepted(f),e.ignoreUnaccepted||(y=new Error("Aborted because "+p+" is not accepted"+v));break;case"accepted":e.onAccepted&&e.onAccepted(f),m=!0;break;case"disposed":e.onDisposed&&e.onDisposed(f),b=!0;break;default:throw new Error("Unexception type "+f.type)}if(y)return{error:y};if(m)for(p in d[p]=g,c(l,f.outdatedModules),f.outdatedDependencies)o.o(f.outdatedDependencies,p)&&(u[p]||(u[p]=[]),c(u[p],f.outdatedDependencies[p]));b&&(c(l,[f.moduleId]),d[p]=h)}r=void 0;for(var w,S=[],_=0;_<l.length;_++){var I=l[_],E=o.c[I];E&&(E.hot._selfAccepted||E.hot._main)&&d[I]!==h&&!E.hot._selfInvalidated&&S.push({module:I,require:E.hot._requireSelf,errorHandler:E.hot._selfAccepted})}return{dispose:function(){var e;i.forEach((function(e){delete t[e]})),i=void 0;for(var n,r=l.slice();r.length>0;){var s=r.pop(),a=o.c[s];if(a){var c={},d=a.hot._disposeHandlers;for(_=0;_<d.length;_++)d[_].call(null,c);for(o.hmrD[s]=c,a.hot.active=!1,delete o.c[s],delete u[s],_=0;_<a.children.length;_++){var h=o.c[a.children[_]];h&&(e=h.parents.indexOf(s))>=0&&h.parents.splice(e,1)}}}for(var p in u)if(o.o(u,p)&&(a=o.c[p]))for(w=u[p],_=0;_<w.length;_++)n=w[_],(e=a.children.indexOf(n))>=0&&a.children.splice(e,1)},apply:function(t){for(var n in d)o.o(d,n)&&(o.m[n]=d[n]);for(var r=0;r<s.length;r++)s[r](o);for(var i in u)if(o.o(u,i)){var a=o.c[i];if(a){w=u[i];for(var c=[],h=[],p=[],f=0;f<w.length;f++){var g=w[f],y=a.hot._acceptedDependencies[g],m=a.hot._acceptedErrorHandlers[g];if(y){if(-1!==c.indexOf(y))continue;c.push(y),h.push(m),p.push(g)}}for(var b=0;b<c.length;b++)try{c[b].call(null,w)}catch(n){if("function"==typeof h[b])try{h[b](n,{moduleId:i,dependencyId:p[b]})}catch(r){e.onErrored&&e.onErrored({type:"accept-error-handler-errored",moduleId:i,dependencyId:p[b],error:r,originalError:n}),e.ignoreErrored||(t(r),t(n))}else e.onErrored&&e.onErrored({type:"accept-errored",moduleId:i,dependencyId:p[b],error:n}),e.ignoreErrored||t(n)}}}for(var v=0;v<S.length;v++){var _=S[v],I=_.module;try{_.require(I)}catch(n){if("function"==typeof _.errorHandler)try{_.errorHandler(n,{moduleId:I,module:o.c[I]})}catch(r){e.onErrored&&e.onErrored({type:"self-accept-error-handler-errored",moduleId:I,error:r,originalError:n}),e.ignoreErrored||(t(r),t(n))}else e.onErrored&&e.onErrored({type:"self-accept-errored",moduleId:I,error:n}),e.ignoreErrored||t(n)}}return l}}}self.webpackHotUpdateblur_snippet=(t,n,i)=>{for(var c in n)o.o(n,c)&&(r[c]=n[c],e&&e.push(c));i&&s.push(i),a[t]&&(a[t](),a[t]=void 0)},o.hmrI.jsonp=function(e,t){r||(r={},s=[],i=[],t.push(u)),o.o(r,e)||(r[e]=o.m[e])},o.hmrC.jsonp=function(e,a,l,d,h,p){h.push(u),n={},i=a,r=l.reduce((function(e,t){return e[t]=!1,e}),{}),s=[],e.forEach((function(e){o.o(t,e)&&void 0!==t[e]?(d.push(c(e,p)),n[e]=!0):n[e]=!1})),o.f&&(o.f.jsonpHmr=function(e,t){n&&o.o(n,e)&&!n[e]&&(t.push(c(e)),n[e]=!0)})},o.hmrM=()=>{if("undefined"==typeof fetch)throw new Error("No browser support: need fetch API");return fetch(o.p+o.hmrF()).then((e=>{if(404!==e.status){if(!e.ok)throw new Error("Failed to fetch update manifest "+e.statusText);return e.json()}}))};var l=(e,n)=>{var r,i,[s,a,c]=n,u=0;if(s.some((e=>0!==t[e]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);c&&c(o)}for(e&&e(n);u<s.length;u++)i=s[u],o.o(t,i)&&t[i]&&t[i][0](),t[i]=0},d=self.webpackChunkblur_snippet=self.webpackChunkblur_snippet||[];d.forEach(l.bind(null,0)),d.push=l.bind(null,d.push.bind(d))})(),o(514)})();